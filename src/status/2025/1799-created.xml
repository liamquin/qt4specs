<item>
   <title>Issue #1799 created</title>
   <pubDate>2025-02-13T20:43:29Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/1799</link>
   <guid>https://qt4cg.org/@qt4cg/2025/#created-1799</guid>
   <description>&lt;div&gt;&lt;p&gt;"well-formed HTML document"?&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;There is an apparent ambiguity in the XPath Functions specification as to whether &lt;code&gt;fn:parse-html&lt;/code&gt; raises dynamic error err:FODC0011 when &lt;code&gt;html-version&lt;/code&gt; is set to one of the HTML5 versions &lt;em&gt;and&lt;/em&gt; the content of &lt;code&gt;$html&lt;/code&gt; is not well-formed, given the general expectation that HTML5 parsers can always parse an input string regardless of syntactic validity.&lt;/p&gt;
&lt;p&gt;The HTML5 standard, for its part, has actually always allowed the parser to be aborted upon encountering a parse error (though no browser does this), so the function definition would seem to require that &lt;code&gt;parse-html("&amp;lt;p&amp;gt;Hello&amp;lt;/p&amp;gt;", { "method": "html", "html-version": 5 })&lt;/code&gt; invariably raises an error, given that the input is invalid (missing opening &lt;code&gt;&amp;lt;html&amp;gt;&lt;/code&gt; tag, etc.).&lt;/p&gt;
&lt;p&gt;I don't think this is the intended behavior; my suggestion is to either have it be explicitly implementation-defined as to which parse errors cause err:FODC0011 to be raised, or require that it is never raised for HTML5.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
