<item>
   <title>Issue #1719 created</title>
   <pubDate>2025-01-21T22:57:23Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/1719</link>
   <guid>https://qt4cg.org/@qt4cg/2025/#created-1719</guid>
   <description>&lt;div&gt;&lt;p&gt;Purging dead build code&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;In the course of working on #1713 I've been exploring some dark corners of the build system. There's a lot of dead code. Some of it might come in useful in the future (e.g. code supporting XQuery Update) but most will be very hard to revive. For example there's a lot of grammar machinery which is there only to allow generation of a JavaCC parser.&lt;/p&gt;
&lt;p&gt;The main purpose of this issue is to capture notes that might lead to some reduction of technical debt.&lt;/p&gt;
&lt;p&gt;The gradle build is currently giving me&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Warning: link-text-with-check was unable to make a link for $ref-id="doc-shared40-Prolog"&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;That message comes from &lt;code&gt;xmlspec-override.xsl&lt;/code&gt;. This stylesheet looks like dead code because it has lots of references to XPath30 and XQuery30. But it can't be completely dead if we're getting errors from it. It's imported from two places: xpath-functions-30.xsl in the F&amp;amp;O tree and shared.xsl in the xquery40 tree. The message comes from gradle task &lt;code&gt;xquery_shared_html&lt;/code&gt;. As far as I can see the build system is constructing an XPath specification, an XQuery specification, and a "shared" specification which is a union of the two. (It starts off "XQuery 4.0 and XPath 4.0 is an expression language that allows..."). Presumably this was intended to allow editors and WG members to review a single document rather than reviewing XPath and XQuery separately. But I don't think it's used today, I think we could kill it off.&lt;/p&gt;
&lt;p&gt;shared.xsl is referenced only from build.gradle when building the shared specification.&lt;/p&gt;
&lt;p&gt;xpath-functions-30.xsl doesn't appear to be referenced from anywhere, and it carries a comment saying&lt;/p&gt;
&lt;pre&gt;&lt;code&gt; Created 17 Dec 2008 by MHK.
 No longer used 16 Feb 2009?
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;In the short term I've deleted the code in xmlspec-override.xsl starting with the comment "Our inability to create a link for $ref-id may be a sign of something wrong, so...". This gets rid of the warning messages. In the longer term, subject to confirmation, I think we can delete the build targets associated with the "shared" language spec, and delete the stylesheets xmlspec-override.xsl, xpath-functions-30.xsl, and shared.xsl.&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
