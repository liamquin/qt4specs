<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2025/">2025</a>, <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="minutes—01-14"><h2>QT4 CG meeting 105 draft minutes<span class="toot-id"> #minutes—01-14</span></h2><div class="pubdate">14 Jan at 17:15:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2025/01-14">https://qt4cg.org/meeting/minutes/2025/01-14</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-1632"><h2>Issue #1632 closed<span class="toot-id"> #closed-1632</span></h2><div class="pubdate">14 Jan at 17:06:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1632">https://github.com/qt4cg/qtspecs/issues/1632</a></div><p>Add xsl:map/@select</p></div>
<div class="toot" id="closed-1694"><h2>Issue #1694 closed<span class="toot-id"> #closed-1694</span></h2><div class="pubdate">14 Jan at 17:06:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1694">https://github.com/qt4cg/qtspecs/pull/1694</a></div><p>1632 Add xsl:map/@select</p></div>
<div class="toot" id="closed-1684"><h2>Issue #1684 closed<span class="toot-id"> #closed-1684</span></h2><div class="pubdate">14 Jan at 17:05:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1684">https://github.com/qt4cg/qtspecs/issues/1684</a></div><p>[XSLT] Composite merge keys</p></div>
<div class="toot" id="closed-1689"><h2>Issue #1689 closed<span class="toot-id"> #closed-1689</span></h2><div class="pubdate">14 Jan at 17:05:04 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1689">https://github.com/qt4cg/qtspecs/pull/1689</a></div><p>1684 Composite merge keys; current-merge-key-array function</p></div>
<div class="toot" id="closed-1680"><h2>Issue #1680 closed<span class="toot-id"> #closed-1680</span></h2><div class="pubdate">14 Jan at 17:03:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1680">https://github.com/qt4cg/qtspecs/issues/1680</a></div><p>Ambiguous `switch` syntax</p></div>
<div class="toot" id="closed-1692"><h2>Issue #1692 closed<span class="toot-id"> #closed-1692</span></h2><div class="pubdate">14 Jan at 17:02:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1692">https://github.com/qt4cg/qtspecs/pull/1692</a></div><p>1680 Fix switch syntax ambiguity</p></div>
<div class="toot" id="closed-1672"><h2>Issue #1672 closed<span class="toot-id"> #closed-1672</span></h2><div class="pubdate">14 Jan at 17:00:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1672">https://github.com/qt4cg/qtspecs/issues/1672</a></div><p>array:values, map:values: Alternatives</p></div>
<div class="toot" id="closed-1687"><h2>Issue #1687 closed<span class="toot-id"> #closed-1687</span></h2><div class="pubdate">14 Jan at 17:00:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1687">https://github.com/qt4cg/qtspecs/pull/1687</a></div><p>1672 array:values, map:values: Alternatives</p></div>
<div class="toot" id="closed-1006"><h2>Issue #1006 closed<span class="toot-id"> #closed-1006</span></h2><div class="pubdate">14 Jan at 16:59:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1006">https://github.com/qt4cg/qtspecs/issues/1006</a></div><p>regular expression addition - word boundaries</p></div>
<div class="toot" id="closed-490"><h2>Issue #490 closed<span class="toot-id"> #closed-490</span></h2><div class="pubdate">14 Jan at 16:59:36 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/490">https://github.com/qt4cg/qtspecs/issues/490</a></div><p>Control over schema validation in parse-xml(), doc(), etc.</p></div>
<div class="toot" id="closed-108"><h2>Issue #108 closed<span class="toot-id"> #closed-108</span></h2><div class="pubdate">14 Jan at 16:59:30 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/108">https://github.com/qt4cg/qtspecs/issues/108</a></div><p>Template match using values of [tunnel] parameters</p></div>
<div class="toot" id="closed-1284"><h2>Issue #1284 closed<span class="toot-id"> #closed-1284</span></h2><div class="pubdate">14 Jan at 16:58:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1284">https://github.com/qt4cg/qtspecs/issues/1284</a></div><p>Build issue: Unsupported specref to  [streamability-fn-distinct-ordered-nodes]</p></div>
<div class="toot" id="closed-1695"><h2>Issue #1695 closed<span class="toot-id"> #closed-1695</span></h2><div class="pubdate">14 Jan at 16:58:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1695">https://github.com/qt4cg/qtspecs/pull/1695</a></div><p>1284 Define streamability of distinct-ordered-nodes</p></div>
<div class="toot" id="closed-1693"><h2>Issue #1693 closed<span class="toot-id"> #closed-1693</span></h2><div class="pubdate">14 Jan at 16:56:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1693">https://github.com/qt4cg/qtspecs/pull/1693</a></div><p>1683 Extend xpath-functions schema with CSV components</p></div>
<div class="toot" id="closed-1690"><h2>Issue #1690 closed<span class="toot-id"> #closed-1690</span></h2><div class="pubdate">14 Jan at 16:54:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1690">https://github.com/qt4cg/qtspecs/pull/1690</a></div><p>1688 In "implementation-defined" appendix, fix absent generated link</p></div>
<div class="toot" id="created-1702"><h2>Issue #1702 created<span class="toot-id"> #created-1702</span></h2><div class="pubdate">14 Jan at 15:19:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1702">https://github.com/qt4cg/qtspecs/issues/1702</a></div><details><summary>Node Updates: Functions</summary><div class="markup"><p>In #1225, I have summarized some thoughts on generalizing updates for both nodes and structured items (maps/arrays).</p>
<p>XQuery Update is complex, as updates are in general, so we may still decide that it is too ambitious to introduce update features in the core language. If we want to give it a try, we could offer functions that are based on XQUF, but that only perform one update operation at a a time on a given input. This way, we could ignore the sophisticated <a href="https://www.w3.org/TR/xquery-update-30/#id-pending-update-lists">Pending Update List</a> semantics, which is only important when multiple updating expressions are specified and need to be checked and brought into order.</p>
<p>A function set that provides an equivalent functionality for all XQUF update operations could look as follows (the presented functions are valid XQuery Update code):</p>
<pre><code class="language-xquery">declare namespace update = 'http://www.w3.org/TR/xquery-update';

declare function update:delete(
  $node  as node(),
  $path  as fn(node()) as node()*
) as node() {
  copy $c := $node
  modify delete node $path($c)
  return $c
};

declare function update:rename(
  $node  as node(),
  $path  as fn(node()) as node()*,
  $name  as (xs:QName | xs:NCName | fn(node(), xs:integer) as (xs:QName | xs:NCName))
) as node() {
  copy $c := $node
  modify (
    for $target at $pos in $path($c)
    let $result := if($name instance of fn(*)) {
      $name($target, $pos)
    } else {
      $name
    }
    return rename node $target as $result
  )
  return $c
};

declare function update:replace(
  $node      as node(),
  $path      as fn(node()) as node()*,
  $contents  as (node() | xs:anyAtomicType | fn(node(), xs:integer) as node()*)*,
  $options   as record(value? as xs:boolean)? := {}
) as node() {
  copy $c := $node
  modify (
    for $target at $pos in $path($c)
    let $result := (
      for $content in $contents
      return if($content instance of fn(*)) {
        $content($target, $pos)
      } else {
        $content
      }
    )
    return if($options?value) {
      replace value of node $target with $result
    } else {
      replace node $target with $result
    }
  )
  return $c
};

declare function update:insert(
  $node      as node(),
  $path      as fn(node()) as node()*,
  $contents  as (node() | xs:anyAtomicType | fn(node(), xs:integer) as (node() | xs:anyAtomicType))*,
  $options   as record(position? as enum('last', 'first', 'before', 'after'))? := {}
) as node() {
  copy $c := $node
  modify (
    for $target at $pos in $path($c)
    let $result := (
      for $content in $contents
      return if($content instance of fn(*)) {
        $content($target, $pos)
      } else {
        $content
      }
    )
    return switch($options?position) {
      case 'before' return insert node $result before $target
      case 'after'  return insert node $result after $target
      case 'first'  return insert node $result as first into $target
      default       return insert node $result as last into $target
    }
  )
  return $c
};
</code></pre>
<p>Here are some exemplary function calls:</p>
<pre><code class="language-xquery">let $node := &lt;xml&gt;&lt;e/&gt;&lt;e/&gt;&lt;/xml&gt;
return (
  (: deletes all &lt;e/&gt; child nodes :)
  update:delete($node, fn { e }),
  (: renames the &lt;e/&gt; child nodes to &lt;f/&gt; :)
  update:rename($node, fn { e }, 'f'),
  (: replaces the &lt;e/&gt; child nodes with &lt;replaced/&gt; :)
  update:replace($node, fn { e }, &lt;replaced/&gt;),
  (: replaces the string value of the &lt;e/&gt; child nodes with 'text' :)
  update:replace($node, fn { e }, 'text', { 'value': true() }),
  (: inserts a 'text' text node into the &lt;e/&gt; child nodes :)
  update:insert($node, fn { e }, 'text'),
  (: inserts 'text1' and 'text2' text nodes into the &lt;e/&gt; child nodes :)
  update:insert($node, fn { e }, fn($node, $pos) { 'text' || $pos }),
  (: inserts an &lt;x/&gt; element after each &lt;e/&gt; child node :)
  update:insert($node, fn { e }, &lt;x/&gt;, { 'position': 'after' })
)
</code></pre>
<p>Multiple update operations can easily be chained:</p>
<pre><code class="language-xquery">(: rename &lt;e/&gt; child nodes to &lt;f/&gt;, insert 'x' text nodes :)
&lt;xml&gt;&lt;e/&gt;&lt;e/&gt;&lt;/xml&gt;
=&gt; update:rename(fn { e }, 'f')
=&gt; update:insert(fn { f }, 'x')
</code></pre>
<p>Ideally, we could offer a similar function set (or maybe even the same) for maps and arrays in a next step (see #77). The map/array syntax would be similar for deletions…</p>
<pre><code class="language-xquery">let $data := { 'a': [ 1, 2, 3 ] }
return update:delete($data, fn { ?a?2 })
</code></pre>
<p>…but it certainly gets trickier for other operations.</p>
<p>If some of you believe that the presented approach is something that we should pursue, I will be happy to add details. As an alternative, we could pursue the XQUF light approach that I have sketched in #1225, based on the existing XQUF update keywords.</p>
<p>Yet another solution could be to stick with what we have, but add map/array update features to XQUF.</p>
</div></details></div>
<div class="toot" id="created-1701"><h2>Pull request #1701 created<span class="toot-id"> #created-1701</span></h2><div class="pubdate">14 Jan at 14:07:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1701">https://github.com/qt4cg/qtspecs/pull/1701</a></div><details><summary>Add dedication to MSM (action QT4CG-088-01)</summary><div class="markup"><p>I've had this action on my plate for a while. Having written a dedication, there's a follow-up question of where to put it. Having it in only one specification isn't wrong, but it seems slightly odd given that MSM contributed to them all. In the end, I decided to put a full dedication in the XPath specification and link to it from the others.</p>
<p>My rationale for the XPath spec is that it's probaly one that everyone reads. Another possibility was the Data Model as it's "foundational" but I think it's less read than XPath.</p>
<p>The published PR won't be write because there are tooling changes required. I've attached a couple of screen shots, one of the full dedication in XPath:</p>
<hr>
<h2><img src="https://github.com/user-attachments/assets/d83aa982-b783-44c8-8fb7-25787200bf13" alt="Screenshot 2025-01-14 at 14-00-08 XML Path Language (XPath) 4 0 WG Review Draft"></h2>
<p>And another of the link from the other specs (from XSLT, I think, but they're all the same).</p>
<hr>
<h2><img src="https://github.com/user-attachments/assets/634de4b0-59cb-4898-8c16-ddff4ddd3876" alt="Screenshot 2025-01-14 at 13-59-08 XSL Transformations (XSLT) Version 4 0"></h2>
</div></details></div>
<div class="toot" id="created-1700"><h2>Pull request #1700 created<span class="toot-id"> #created-1700</span></h2><div class="pubdate">14 Jan at 14:01:14 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1700">https://github.com/qt4cg/qtspecs/pull/1700</a></div><details><summary>Remove some dead .DS_Store files</summary><div class="markup"><p>I'm not sure how these got checked in...</p>
</div></details></div>
<div class="toot" id="agenda-01-14"><h2>QT4 CG meeting 105 draft agenda<span class="toot-id"> #agenda-01-14</span></h2><div class="pubdate">14 Jan at 10:11:15 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2025/01-14">https://qt4cg.org/meeting/agenda/2025/01-14</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-1699"><h2>Issue #1699 created<span class="toot-id"> #created-1699</span></h2><div class="pubdate">14 Jan at 03:48:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1699">https://github.com/qt4cg/qtspecs/issues/1699</a></div><details><summary>XPath function to calculate edit distance between two strings</summary><div class="markup"><p>I propose a new XPath function to calculate the edit distance between two strings. It could use a specific algorithm, for example <code>fn:levenshtein-distance(s1,s2)</code>.</p>
<p>The function could also be designed  more generic like <code>fn:edit-distance(s1, s2, algorithm)</code> where <em>algorithm</em> could be levenshtein, hamming, lcs ... (see <a href="https://en.wikipedia.org/wiki/Edit_distance">edit distance</a>).</p>
<p>Use Case: Schematron Quick Fix when checking <code>glossentry</code> elements against terms defined in <code>glossary</code>. <em>"Your term is not defined in Glossary, did you mean ...".</em></p>
<p>Thanks, Frank</p>
</div></details></div>
<div class="toot" id="closed-1407"><h2>Issue #1407 closed<span class="toot-id"> #closed-1407</span></h2><div class="pubdate">13 Jan at 17:53:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1407">https://github.com/qt4cg/qtspecs/issues/1407</a></div><p>Improve the spec prose and table of content layout for types</p></div>
<div class="toot" id="created-1698"><h2>Issue #1698 created<span class="toot-id"> #created-1698</span></h2><div class="pubdate">13 Jan at 13:53:53 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1698">https://github.com/qt4cg/qtspecs/issues/1698</a></div><details><summary>Allow select attribute for xsl:call-template instruction</summary><div class="markup"><p>The lack of the following feature is something that bothers me from time to time. I hope this is the right place here for my proposal.
And even though I did some search -- I am not sure if something similar was discussed before ...</p>
<p>I propose to allow a <code>select</code> attribute for <code>xsl:call-template</code> instructions. When the <code>select</code> attribute is set, then the named template is called for each selected item as context item.</p>
<p>When the empty sequence is selected, the template is not invoked.</p>
<p>When the <code>select</code> attribute is omitted, then the instruction works as before (Invoked once and <em>"[...] does not change focus [...]"</em>).</p>
<p>For extension instructions from named templates: May work the same with a prefixed attribute (e.g. <code>xsl:select</code>).</p>
<p>Benefits I see:</p>
<ul>
<li>Change the context without <code>xsl:apply-templates</code></li>
<li>Avoid template parameter with <code>current()</code> as default value (annoying when you have nested named template calls)</li>
<li>Avoid <code>xsl:for-each</code> workaround where context just must be adjusted for a single item (no such parameter available, see before)</li>
<li>Save an <code>xsl:for-each</code> instruction with this shorter form</li>
<li>Harmonize <code>xsl:call-template</code> with <code>xsl:apply-templates</code> concept a little bit</li>
</ul>
<p>Simple example:</p>
<pre><code class="language-xml">&lt;xsl:template match="elem"&gt;
  &lt;xsl:call-template name="t:make-something" select="child-elem"/&gt;
  &lt;!-- ... or as extension instruction: --&gt;
  &lt;t:make-something xsl:select="child-elem"/&gt;
&lt;/xsl:template&gt;

&lt;xsl:template name="t:make-something"&gt;
  &lt;xsl:context-item use="required" as="element(child-elem)"&gt;
  &lt;!-- ... --&gt;
&lt;/xsl:template&gt;
</code></pre>
<p>The call of <code>t:make-something</code> before is equivalent with:</p>
<pre><code class="language-xml">&lt;xsl:template match="elem"&gt;
  &lt;xsl:for-each select="child-elem"&gt;
    &lt;xsl:call-template name="t:make-something"/&gt;
  &lt;/xsl:for-each&gt;
&lt;/xsl:template&gt;
</code></pre>
</div></details></div>
<div class="toot" id="closed-1675"><h2>Issue #1675 closed<span class="toot-id"> #closed-1675</span></h2><div class="pubdate">13 Jan at 12:03:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1675">https://github.com/qt4cg/qtspecs/issues/1675</a></div><p>CSV parsing</p></div>
<div class="toot" id="closed-1677"><h2>Issue #1677 closed<span class="toot-id"> #closed-1677</span></h2><div class="pubdate">13 Jan at 12:03:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1677">https://github.com/qt4cg/qtspecs/pull/1677</a></div><p>1675 Fixes for CSV parsing</p></div>
<div class="toot" id="closed-1673"><h2>Issue #1673 closed<span class="toot-id"> #closed-1673</span></h2><div class="pubdate">13 Jan at 11:55:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1673">https://github.com/qt4cg/qtspecs/pull/1673</a></div><p>1407 TOC structure for types</p></div>
<div class="toot" id="closed-1681"><h2>Issue #1681 closed<span class="toot-id"> #closed-1681</span></h2><div class="pubdate">13 Jan at 09:21:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1681">https://github.com/qt4cg/qtspecs/issues/1681</a></div><p> Δ in the table of contents</p></div>
<div class="toot" id="closed-1691"><h2>Issue #1691 closed<span class="toot-id"> #closed-1691</span></h2><div class="pubdate">13 Jan at 09:21:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1691">https://github.com/qt4cg/qtspecs/pull/1691</a></div><p>1681 - Delta marker in TOC</p></div>
<div class="toot" id="created-1697"><h2>Issue #1697 created<span class="toot-id"> #created-1697</span></h2><div class="pubdate">13 Jan at 00:17:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1697">https://github.com/qt4cg/qtspecs/issues/1697</a></div><details><summary>Add documentary names to callback function signatures</summary><div class="markup"><p>If PR #1696 is accepted we can add documentary names to the parameters of callback function signatures, for example <code>fn:filter</code> can become</p>
<pre><code>fn:filter(
  $input as&nbsp;item()*, | &nbsp;
  $predicate as&nbsp;fn($item as item(), $position as xs:integer) as xs:boolean? | &nbsp;
)&nbsp;as&nbsp;item()*

</code></pre>
<p>and we can (if we need to) use the parameter names in the prose</p>
</div></details></div>
<div class="toot" id="created-1696"><h2>Pull request #1696 created<span class="toot-id"> #created-1696</span></h2><div class="pubdate">13 Jan at 00:07:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1696">https://github.com/qt4cg/qtspecs/pull/1696</a></div><details><summary>1136 Optional names in typed function types</summary><div class="markup"><p>Fix #1136</p>
</div></details></div></div><p>See 3424
            more statuses in yearly archives.</p></article></main></body></html>