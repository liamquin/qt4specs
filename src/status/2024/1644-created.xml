<item>
   <title>Issue #1644 created</title>
   <pubDate>2024-12-06T22:33:44Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/1644</link>
   <guid>https://qt4cg.org/@qt4cg/2024/#created-1644</guid>
   <description>&lt;div&gt;&lt;p&gt;fn:elements-to-maps: Mixed Content&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;Even though the function may not be used primarily for mixed content, we should make it easier to convert such XML input to maps/JSON.&lt;/p&gt;
&lt;p&gt;If I understand correctly, the safest solution to retrieve a consistent result currently is:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-xquery"&gt;fn:elements-to-maps(
  $mixed-content,
  { "disable-layouts": ("empty", "empty-plus",
      "simple", "simple-plus", "list",
      "list-plus", "record", "sequence")
  }
)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Maybe we can simplify this? If we had an inclusive option, it could possibly be:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-xquery"&gt;fn:elements-to-maps(
  $mixed-content,
  { "enable-layouts": "mixed" }
)
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We could also consider &lt;code&gt;xml:space=''preserve&lt;/code&gt; attributes and apply &lt;code&gt;mixed&lt;/code&gt; to all descendant nodes (but it shouldn't be the only solution).&lt;/p&gt;
&lt;p&gt;Related: #1592&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
