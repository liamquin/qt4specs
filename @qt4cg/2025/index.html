<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses in 2025</title></head><body><main><article><h1>@qt4cg statuses in 2025</h1><p>This page displays status
              updates
              about the QT4 CG project from 2025.</p><p>See also <a href="../">recent statuses</a>.</p><div class="toots">
<div class="toot" id="agenda-01-14"><h2>QT4 CG meeting 105 draft agenda<span class="toot-id"> #agenda-01-14</span></h2><div class="pubdate">14 Jan at 10:11:15 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2025/01-14">https://qt4cg.org/meeting/agenda/2025/01-14</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="closed-1681"><h2>Issue #1681 closed<span class="toot-id"> #closed-1681</span></h2><div class="pubdate">13 Jan at 09:21:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1681">https://github.com/qt4cg/qtspecs/issues/1681</a></div><p> Δ in the table of contents</p></div>
<div class="toot" id="closed-1691"><h2>Issue #1691 closed<span class="toot-id"> #closed-1691</span></h2><div class="pubdate">13 Jan at 09:21:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1691">https://github.com/qt4cg/qtspecs/pull/1691</a></div><p>1681 - Delta marker in TOC</p></div>
<div class="toot" id="created-1697"><h2>Issue #1697 created<span class="toot-id"> #created-1697</span></h2><div class="pubdate">13 Jan at 00:17:32 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1697">https://github.com/qt4cg/qtspecs/issues/1697</a></div><details><summary>Add documentary names to callback function signatures</summary><div class="markup"><p>If PR #1696 is accepted we can add documentary names to the parameters of callback function signatures, for example <code>fn:filter</code> can become</p>
<pre><code>fn:filter(
  $input as&nbsp;item()*, | &nbsp;
  $predicate as&nbsp;fn($item as item(), $position as xs:integer) as xs:boolean? | &nbsp;
)&nbsp;as&nbsp;item()*

</code></pre>
<p>and we can (if we need to) use the parameter names in the prose</p>
</div></details></div>
<div class="toot" id="created-1696"><h2>Pull request #1696 created<span class="toot-id"> #created-1696</span></h2><div class="pubdate">13 Jan at 00:07:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1696">https://github.com/qt4cg/qtspecs/pull/1696</a></div><details><summary>1136 Optional names in typed function types</summary><div class="markup"><p>Fix #1136</p>
</div></details></div>
<div class="toot" id="created-1695"><h2>Pull request #1695 created<span class="toot-id"> #created-1695</span></h2><div class="pubdate">12 Jan at 23:36:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1695">https://github.com/qt4cg/qtspecs/pull/1695</a></div><details><summary>1284 Define streamability of distinct-ordered-nodes</summary><div class="markup"><p>Fix #1284</p>
</div></details></div>
<div class="toot" id="closed-1610"><h2>Issue #1610 closed<span class="toot-id"> #closed-1610</span></h2><div class="pubdate">11 Jan at 10:48:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1610">https://github.com/qt4cg/qtspecs/issues/1610</a></div><p>Some cross references are incorrect</p></div>
<div class="toot" id="closed-1683"><h2>Issue #1683 closed<span class="toot-id"> #closed-1683</span></h2><div class="pubdate">10 Jan at 09:35:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1683">https://github.com/qt4cg/qtspecs/issues/1683</a></div><p>There are validity errors in the function catalog related to csv elements</p></div>
<div class="toot" id="created-1694"><h2>Pull request #1694 created<span class="toot-id"> #created-1694</span></h2><div class="pubdate">09 Jan at 23:10:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1694">https://github.com/qt4cg/qtspecs/pull/1694</a></div><details><summary>1632 Add xsl:map/@select</summary><div class="markup"><p>Fix #1632</p>
</div></details></div>
<div class="toot" id="created-1693"><h2>Pull request #1693 created<span class="toot-id"> #created-1693</span></h2><div class="pubdate">09 Jan at 22:25:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1693">https://github.com/qt4cg/qtspecs/pull/1693</a></div><details><summary>1683 Extend xpath-functions schema with CSV components</summary><div class="markup"><p>This was an unsuccessful attempt to fix issue #1683, but the change is still worth making. It extends the aggregated schema for the XPath functions namespace to include definitions for the result of the csv-to-xml function.</p>
</div></details></div>
<div class="toot" id="created-1692"><h2>Pull request #1692 created<span class="toot-id"> #created-1692</span></h2><div class="pubdate">09 Jan at 21:55:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1692">https://github.com/qt4cg/qtspecs/pull/1692</a></div><details><summary>1680 Fix switch syntax ambiguity</summary><div class="markup"><p>Fix #1680 (as suggested in the issue)</p>
</div></details></div>
<div class="toot" id="created-1691"><h2>Pull request #1691 created<span class="toot-id"> #created-1691</span></h2><div class="pubdate">09 Jan at 21:42:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1691">https://github.com/qt4cg/qtspecs/pull/1691</a></div><details><summary>1681 - Delta marker in TOC</summary><div class="markup"><p>Fix #1681</p>
</div></details></div>
<div class="toot" id="created-1690"><h2>Pull request #1690 created<span class="toot-id"> #created-1690</span></h2><div class="pubdate">09 Jan at 20:28:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1690">https://github.com/qt4cg/qtspecs/pull/1690</a></div><details><summary>1688 In "implementation-defined" appendix, fix absent generated link</summary><div class="markup"><p>For F&amp;O the automatically-generated appendix of implementation-defined item should link each such item to the nearest containing section that has a <code>head</code> child as well as an id attribute.</p>
</div></details></div>
<div class="toot" id="created-1689"><h2>Pull request #1689 created<span class="toot-id"> #created-1689</span></h2><div class="pubdate">09 Jan at 18:10:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1689">https://github.com/qt4cg/qtspecs/pull/1689</a></div><details><summary>1684 Composite merge keys; current-merge-key-array function</summary><div class="markup"><p>Acknowledges that as a result of changes to <code>xsl:sort</code>, <code>xsl:merge</code> now accepts composite merge keys; introduces the <code>current-merge-key-array()</code> function to handle them.</p>
<p>Fix #1684</p>
</div></details></div>
<div class="toot" id="created-1688"><h2>Issue #1688 created<span class="toot-id"> #created-1688</span></h2><div class="pubdate">09 Jan at 17:39:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1688">https://github.com/qt4cg/qtspecs/issues/1688</a></div><details><summary>In rendered HTML, link to definition is missing its link text</summary><div class="markup"><p>https://qt4cg.org/specifications/xpath-functions-40/Overview.html#impl-def Item 6 contains a sentence that renders as "See ." In the raw HTML, there is a link <code>&lt;a href="#dt-nondeterministic-wrt-ordering"&gt;&lt;/a&gt;</code> with no link text.</p>
<p>I thought I might make this issue a little more substantive by reporting a second typo or broken link, but I can't find a second one at the moment. :)</p>
</div></details></div>
<div class="toot" id="created-1687"><h2>Pull request #1687 created<span class="toot-id"> #created-1687</span></h2><div class="pubdate">09 Jan at 12:16:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1687">https://github.com/qt4cg/qtspecs/pull/1687</a></div><details><summary>1672 array:values, map:values: Alternatives</summary><div class="markup"><p>Issue: #1672</p>
</div></details></div>
<div class="toot" id="created-1686"><h2>Pull request #1686 created<span class="toot-id"> #created-1686</span></h2><div class="pubdate">09 Jan at 11:46:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1686">https://github.com/qt4cg/qtspecs/pull/1686</a></div><details><summary>1685 Pipeline Operator</summary><div class="markup"><p>Issue: #1685</p>
<p>The PR introduces the pipeline operator <code>-&gt;</code>. If we decide to add it, we could drop <code>=!&gt;</code> in a second step and update various examples in the text.</p>
</div></details></div>
<div class="toot" id="created-1685"><h2>Issue #1685 created<span class="toot-id"> #created-1685</span></h2><div class="pubdate">09 Jan at 09:46:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1685">https://github.com/qt4cg/qtspecs/issues/1685</a></div><details><summary>Pipeline Operator</summary><div class="markup"><p>This issue is an attempt to find a solution for the discussion in #755, which was originally about defining an expression to bind the context value. It serves as a summary for an upcoming PR.</p>
<p>We have two operators in the language that can be used for pipelining:
&nbsp;&nbsp;1.&nbsp;With the simple map operator <code>!</code>, single items of an input can be bound to the context value.
&nbsp;&nbsp;2.&nbsp;With the arrow operator <code>=&gt;</code>, an input can be bound as first argument in a function call.</p>
<p>The current restrictions are:
&nbsp;&nbsp;A) There is no way to bind a sequence (a value with 0 or more than 1 items) to the context value.
&nbsp;&nbsp;B) We can only bind the input to the first function argument.</p>
<p>In addition, we have introduced the mapping arrow expression <code>=!&gt;</code> to bind single items of an input to the first function argument.</p>
<p>We could generalize and simplify the situation by introducing a dedicated and very basic pipeline operator: <code>A -&gt; B</code> evaluates <code>A</code> to a value, which is bound to the context value before evaluating <code>B</code>.</p>
<p>With the operator, restriction A) would be resolved. Restriction B) would be tackled indirectly, as <code>-&gt;</code> and <code>!</code> can often be combined. For example, the following examples could be simplified…</p>
<pre><code class="language-xquery">(: current and simplified syntax :)
$s =&gt; tokenize() =!&gt; fn { `"{.}"` }()
$s -&gt; tokenize(.) ! `"{.}"`

(: current and simplified syntax :)
(1 to 5) =!&gt; xs:double() =!&gt; math:sqrt() =!&gt; fn($a) { $a + 1 }() =&gt; sum()
(1 to 5) ! xs:double(.) ! math:sqrt(.) ! (. + 1) -&gt; sum(.)
</code></pre>
<p>…and we could drop <code>=!&gt;</code> in favor of the new operator.</p>
<p>An equivalent representation for the focus function <code>fn { E }</code> would be <code>fn($c) { $c -&gt; E }</code>.</p>
</div></details></div>
<div class="toot" id="created-1684"><h2>Issue #1684 created<span class="toot-id"> #created-1684</span></h2><div class="pubdate">08 Jan at 21:41:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1684">https://github.com/qt4cg/qtspecs/issues/1684</a></div><details><summary>[XSLT] Composite merge keys</summary><div class="markup"><p>The changes in PR #1674 to allow composite sort keys automatically propagate to <code>xsl:merge</code>, because the semantics of <code>xsl:merge-key</code> are defined entirely by reference to <code>xsl:sort</code>.</p>
<p>No immediate problem, except (1) we should acknowledge the fact and point out that composite merge keys are now allowed, and (2) the effect on the current-merge-key() function. This is the sequence-concatenation of the merge keys for multiple merge sources. The spec says:</p>
<blockquote>
<p>the [current merge key] will be a single atomic item if there is a single merge key, or a sequence of atomic items if there are multiple merge keys.</p>
</blockquote>
<p>Actually I think that's already wrong, because it forgets that an individual merge key may be an empty sequence. If that happens then the current-merge-key() function is somewhat useless. I suggest we simply document the fact: if there are multiple merge sources generating multiple merge keys and they are not all singletons, then the sequence concatenation of the merge keys may not be especially useful.</p>
<p>We could provide a variant current-merge-key-array() that returns an array of sort key values, one for each xsl:merge-key element, each one being a sequence of atomic items.</p>
</div></details></div>
<div class="toot" id="minutes—01-07"><h2>QT4 CG meeting 104 draft minutes<span class="toot-id"> #minutes—01-07</span></h2><div class="pubdate">07 Jan at 17:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2025/01-07">https://qt4cg.org/meeting/minutes/2025/01-07</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-1261"><h2>Issue #1261 closed<span class="toot-id"> #closed-1261</span></h2><div class="pubdate">07 Jan at 17:24:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1261">https://github.com/qt4cg/qtspecs/issues/1261</a></div><p>Add decimal-divide function</p></div>
<div class="toot" id="closed-1671"><h2>Issue #1671 closed<span class="toot-id"> #closed-1671</span></h2><div class="pubdate">07 Jan at 17:24:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1671">https://github.com/qt4cg/qtspecs/pull/1671</a></div><p>1261 New fn:divide-decimals() function</p></div>
<div class="toot" id="closed-1662"><h2>Issue #1662 closed<span class="toot-id"> #closed-1662</span></h2><div class="pubdate">07 Jan at 17:22:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1662">https://github.com/qt4cg/qtspecs/issues/1662</a></div><p>xsl:sort - add composite sort keys</p></div>
<div class="toot" id="closed-1674"><h2>Issue #1674 closed<span class="toot-id"> #closed-1674</span></h2><div class="pubdate">07 Jan at 17:22:46 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1674">https://github.com/qt4cg/qtspecs/pull/1674</a></div><p>1662 Allow composite sort keys in xsl:sort</p></div>
<div class="toot" id="closed-1621"><h2>Issue #1621 closed<span class="toot-id"> #closed-1621</span></h2><div class="pubdate">07 Jan at 17:20:01 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1621">https://github.com/qt4cg/qtspecs/issues/1621</a></div><p>compare() with collations that do not support ordering</p></div>
<div class="toot" id="closed-1676"><h2>Issue #1676 closed<span class="toot-id"> #closed-1676</span></h2><div class="pubdate">07 Jan at 17:20:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1676">https://github.com/qt4cg/qtspecs/pull/1676</a></div><p>1621 Capabilities of Collations</p></div>
<div class="toot" id="closed-1678"><h2>Issue #1678 closed<span class="toot-id"> #closed-1678</span></h2><div class="pubdate">07 Jan at 17:17:01 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1678">https://github.com/qt4cg/qtspecs/issues/1678</a></div><p>Semantics of element(N, T) where T is a union type</p></div>
<div class="toot" id="closed-1679"><h2>Issue #1679 closed<span class="toot-id"> #closed-1679</span></h2><div class="pubdate">07 Jan at 17:17:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1679">https://github.com/qt4cg/qtspecs/pull/1679</a></div><p>1678 Define element(E,T) and attribute(A,T) in terms of "derives-from"</p></div>
<div class="toot" id="closed-1670"><h2>Issue #1670 closed<span class="toot-id"> #closed-1670</span></h2><div class="pubdate">07 Jan at 17:11:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1670">https://github.com/qt4cg/qtspecs/pull/1670</a></div><p>Action QT4CS-097-02: Enable xtermref links to XSD SCM property names</p></div>
<div class="toot" id="closed-1667"><h2>Issue #1667 closed<span class="toot-id"> #closed-1667</span></h2><div class="pubdate">07 Jan at 17:08:39 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1667">https://github.com/qt4cg/qtspecs/issues/1667</a></div><p>Invalid XML characters in JSON input</p></div>
<div class="toot" id="closed-1669"><h2>Issue #1669 closed<span class="toot-id"> #closed-1669</span></h2><div class="pubdate">07 Jan at 17:08:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1669">https://github.com/qt4cg/qtspecs/pull/1669</a></div><p>1667 Revise handling of non-XML characters in parse-json</p></div>
<div class="toot" id="closed-1668"><h2>Issue #1668 closed<span class="toot-id"> #closed-1668</span></h2><div class="pubdate">07 Jan at 17:05:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1668">https://github.com/qt4cg/qtspecs/pull/1668</a></div><p>Minor copy edits (no issue raised)</p></div>
<div class="toot" id="closed-1649"><h2>Issue #1649 closed<span class="toot-id"> #closed-1649</span></h2><div class="pubdate">07 Jan at 17:02:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1649">https://github.com/qt4cg/qtspecs/issues/1649</a></div><p>Result type of fn:function-annotations()</p></div>
<div class="toot" id="closed-1666"><h2>Issue #1666 closed<span class="toot-id"> #closed-1666</span></h2><div class="pubdate">07 Jan at 17:02:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1666">https://github.com/qt4cg/qtspecs/pull/1666</a></div><p>1649 result of function annotations</p></div>
<div class="toot" id="closed-1650"><h2>Issue #1650 closed<span class="toot-id"> #closed-1650</span></h2><div class="pubdate">07 Jan at 16:59:55 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1650">https://github.com/qt4cg/qtspecs/issues/1650</a></div><p>fn:node-kind, fn:type-of: Editorial</p></div>
<div class="toot" id="closed-1665"><h2>Issue #1665 closed<span class="toot-id"> #closed-1665</span></h2><div class="pubdate">07 Jan at 16:59:54 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1665">https://github.com/qt4cg/qtspecs/pull/1665</a></div><p>1650 Tidy up fn:type-of</p></div>
<div class="toot" id="closed-1663"><h2>Issue #1663 closed<span class="toot-id"> #closed-1663</span></h2><div class="pubdate">07 Jan at 16:57:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1663">https://github.com/qt4cg/qtspecs/pull/1663</a></div><p>Remove DTD/stylesheet distractions at the top of the schema</p></div>
<div class="toot" id="agenda-01-07"><h2>QT4 CG meeting 104 draft agenda<span class="toot-id"> #agenda-01-07</span></h2><div class="pubdate">07 Jan at 10:11:30 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2025/01-07">https://qt4cg.org/meeting/agenda/2025/01-07</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-1683"><h2>Issue #1683 created<span class="toot-id"> #created-1683</span></h2><div class="pubdate">06 Jan at 11:10:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1683">https://github.com/qt4cg/qtspecs/issues/1683</a></div><details><summary>There are validity errors in the function catalog related to csv elements</summary><div class="markup"><p>The build reports:</p>
<pre><code>Processing file:/Volumes/Saxonica/src/qt4cg/qtspecs/specifications/xpath-functions-40/src/function-catalog.xml
Using parser com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser
Building tree for file:/Volumes/Saxonica/src/qt4cg/qtspecs/specifications/xpath-functions-40/src/function-catalog.xml using class net.sf.saxon.tree.tiny.TinyBuilder
Tree built in 215.684667ms
Tree size: 38655 nodes, 773635 characters, 7637 attributes
Error on line 1 column 53 of generate-qt3-test-set.xsl:
  XTTE1512  Cannot validate &lt;Q{.../xpath-functions}csv&gt;: no element declaration available
Error on line 3 column 7 of generate-qt3-test-set.xsl:
  XTTE1512  One validation error was reported: Cannot validate &lt;Q{.../xpath-functions}csv&gt;:
  no element declaration available
** Failure in parse-xml on fos:result of csv-to-xml-002
Using parser com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser
Error on line 1 column 53 of generate-qt3-test-set.xsl:
  XTTE1512  Cannot validate &lt;Q{.../xpath-functions}csv&gt;: no element declaration available
Error on line 5 column 7 of generate-qt3-test-set.xsl:
  XTTE1512  One validation error was reported: Cannot validate &lt;Q{.../xpath-functions}csv&gt;:
  no element declaration available
** Failure in parse-xml on fos:result of csv-to-xml-003
Using parser com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser
Error on line 1 column 53 of generate-qt3-test-set.xsl:
  XTTE1512  Cannot validate &lt;Q{.../xpath-functions}csv&gt;: no element declaration available
Error on line 3 column 7 of generate-qt3-test-set.xsl:
  XTTE1512  One validation error was reported: Cannot validate &lt;Q{.../xpath-functions}csv&gt;:
  no element declaration available
** Failure in parse-xml on fos:result of csv-to-xml-004
Using parser com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser
Error on line 1 column 53 of generate-qt3-test-set.xsl:
  XTTE1512  Cannot validate &lt;Q{.../xpath-functions}csv&gt;: no element declaration available
Error on line 8 column 7 of generate-qt3-test-set.xsl:
  XTTE1512  One validation error was reported: Cannot validate &lt;Q{.../xpath-functions}csv&gt;:
  no element declaration available
** Failure in parse-xml on fos:result of csv-to-xml-005
Using parser com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser
Error on line 1 column 53 of generate-qt3-test-set.xsl:
  XTTE1512  Cannot validate &lt;Q{.../xpath-functions}csv&gt;: no element declaration available
Error on line 16 column 7 of generate-qt3-test-set.xsl:
  XTTE1512  One validation error was reported: Cannot validate &lt;Q{.../xpath-functions}csv&gt;:
  no element declaration available
** Failure in parse-xml on fos:result of csv-to-xml-006
Using parser com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser
Error on line 1 column 53 of generate-qt3-test-set.xsl:
  XTTE1512  Cannot validate &lt;Q{.../xpath-functions}csv&gt;: no element declaration available
Error on line 24 column 7 of generate-qt3-test-set.xsl:
  XTTE1512  One validation error was reported: Cannot validate &lt;Q{.../xpath-functions}csv&gt;:
  no element declaration available
** Failure in parse-xml on fos:result of csv-to-xml-007
Using parser com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser
Error on line 1 column 53 of generate-qt3-test-set.xsl:
  XTTE1512  Cannot validate &lt;Q{.../xpath-functions}csv&gt;: no element declaration available
Error on line 37 column 7 of generate-qt3-test-set.xsl:
  XTTE1512  One validation error was reported: Cannot validate &lt;Q{.../xpath-functions}csv&gt;:
  no element declaration available
** Failure in parse-xml on fos:result of csv-to-xml-008
Using parser com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser
Error on line 1 column 53 of generate-qt3-test-set.xsl:
  XTTE1512  Cannot validate &lt;Q{.../xpath-functions}csv&gt;: no element declaration available
Error on line 40 column 7 of generate-qt3-test-set.xsl:
  XTTE1512  One validation error was reported: Cannot validate &lt;Q{.../xpath-functions}csv&gt;:
  no element declaration available
** Failure in parse-xml on fos:result of csv-to-xml-009
Using parser com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser
Error on line 1 column 53 of generate-qt3-test-set.xsl:
  XTTE1512  Cannot validate &lt;Q{.../xpath-functions}csv&gt;: no element declaration available
Error on line 36 column 7 of generate-qt3-test-set.xsl:
  XTTE1512  One validation error was reported: Cannot validate &lt;Q{.../xpath-functions}csv&gt;:
  no element declaration available
** Failure in parse-xml on fos:result of csv-to-xml-010
Execution time: 532.103792ms
Memory used: 98Mb
</code></pre>
</div></details></div>
<div class="toot" id="created-1682"><h2>Issue #1682 created<span class="toot-id"> #created-1682</span></h2><div class="pubdate">06 Jan at 11:05:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1682">https://github.com/qt4cg/qtspecs/issues/1682</a></div><details><summary>Type Promotion</summary><div class="markup"><p>The description of type promotion in Appendix B.1 has become outdated.</p>
<p>Firstly, the coercion rules no longer invoke type promotion; instead, they use a custom table of "implicit casts". So B.1 is wrong to say that type promotion is invoked by the coercion rules.</p>
<p>Secondly, for selecting an entry in the operator mapping table, I don't think type promotion comes into play.</p>
<ul>
<li>The rules for value comparisons do all the necessary type conversions of operands BEFORE invoking a search of the operator mapping table.</li>
<li>The rules for arithmetic operators don't require any type promotion: for numerics, they invoke a function such as op:numeric-add, and it is the definition of this function (not the selection of the function in the mapping table) that invokes type promotion.</li>
</ul>
<p>The statement in B.1 that "If the result type of an operator is listed as numeric, it means "the first type in the ordered list (xs:integer, xs:decimal, xs:float, xs:double) into which all operands can be converted by [subtype substitution] and [type promotion]" seems wrong in general: for example it doesn't cover <code>integer div integer</code>. The result type is actually defined by the rules of the selected function, e.g. op:numeric-divide, and not by the "result type" column of the operator mapping table. Perhaps it should say that if the result type is a subtype of numeric as defined by the particular function.</p>
<p>References to Type Promotion in F&amp;O section 1.6 are also outdated.</p>
<p>The sum() and avg() functions invoke "numeric promotion" to convert all values in the input to a common type, but the exact rules for doing this aren't exactly clear. For example, the equivalent expression given for sum() doesn't do what the prose says. For example, given sum() applied to a sequence (X as decimal, Y as decimal, Z as float), the prose says the result is float(X) + float(Y) + Z, whereas the equivalent expression gives float(decimal(X + Y)) + Z) which is not necessarily the same thing.</p>
</div></details></div>
<div class="toot" id="created-1681"><h2>Issue #1681 created<span class="toot-id"> #created-1681</span></h2><div class="pubdate">05 Jan at 23:38:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1681">https://github.com/qt4cg/qtspecs/issues/1681</a></div><details><summary> Δ in the table of contents</summary><div class="markup"><p>All the spec say in their first changes section:</p>
<blockquote>
<p>Sections with significant changes are marked Δ in the table of contents.</p>
</blockquote>
<p>However, these markers are present only in the F&amp;O specification.</p>
</div></details></div>
<div class="toot" id="created-1680"><h2>Issue #1680 created<span class="toot-id"> #created-1680</span></h2><div class="pubdate">05 Jan at 19:27:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1680">https://github.com/qt4cg/qtspecs/issues/1680</a></div><details><summary>Ambiguous `switch` syntax</summary><div class="markup"><p>Unless I am overlooking some constraint preventing this, an ambiguity has been introduced to the XQuery 4.0 grammar by allowing the <code>SwitchComparand</code> to be omitted per #671/#678.</p>
<p>Here is an example of an ambiguous expression:</p>
<pre><code class="language-xquery">switch case A return switch case B return switch case C return D default return E default return F
</code></pre>
<p>It can be parsed along the lines of</p>
<pre><code class="language-xquery">switch
case A return SWITCH 
case B return switch
              case C return D 
              default return E 
default return F
</code></pre>
<p>but also like the following</p>
<pre><code class="language-xquery">switch
case A return switch
              case B return SWITCH
              case C return D
              default return E
default return F
</code></pre>
</div></details></div>
<div class="toot" id="created-1679"><h2>Pull request #1679 created<span class="toot-id"> #created-1679</span></h2><div class="pubdate">05 Jan at 14:28:41 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1679">https://github.com/qt4cg/qtspecs/pull/1679</a></div><details><summary>1678 Define element(E,T) and attribute(A,T) in terms of "derives-from"</summary><div class="markup"><p>Fix #1678</p>
</div></details></div>
<div class="toot" id="created-1678"><h2>Issue #1678 created<span class="toot-id"> #created-1678</span></h2><div class="pubdate">05 Jan at 00:24:02 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1678">https://github.com/qt4cg/qtspecs/issues/1678</a></div><details><summary>Semantics of element(N, T) where T is a union type</summary><div class="markup"><p>The semantics of <code>element(N, T)</code> say that to get a match, the type annotation A of the element must be derived from T <em>by restriction</em>. This means you will never get a match if T is a union type.</p>
<p>Furthermore, if T is a complex type, there is no match if the type annotation is a complex type derived by extension from T.</p>
<p>I think this is a simple error in the spec. It should say that derived-from(A, T) must be true. The derived-from() relationship handles union types and derivation by extension correctly.</p>
<p>We do use <code>derived-from</code> when specifying subtyping. This means that an element E can be an instance of <code>element(E, xs:integer)</code>, and not be an instance of <code>element(E, xs:numeric)</code>, even though  <code>element(E, xs:integer)</code>, is a subtype of <code>element(E, xs:numeric)</code>.</p>
<p>The error seems to have crept in when the rules were redrafted for 4.0. Up to and including 3.1, the semantics of ElementTest and AttributeTest reference the derived-from() function.</p>
</div></details></div>
<div class="toot" id="created-1677"><h2>Pull request #1677 created<span class="toot-id"> #created-1677</span></h2><div class="pubdate">04 Jan at 18:32:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1677">https://github.com/qt4cg/qtspecs/pull/1677</a></div><details><summary>1675 Fixes for CSV parsing</summary><div class="markup"><p>Fix #1675</p>
</div></details></div>
<div class="toot" id="created-1676"><h2>Pull request #1676 created<span class="toot-id"> #created-1676</span></h2><div class="pubdate">03 Jan at 20:08:21 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1676">https://github.com/qt4cg/qtspecs/pull/1676</a></div><details><summary>1621 Capabilities of Collations</summary><div class="markup"><p>Fix #1621</p>
<p>This PR is largely editorial, except that it makes a substantive change to the <code>fn:collation-available</code> function.</p>
</div></details></div>
<div class="toot" id="created-1675"><h2>Issue #1675 created<span class="toot-id"> #created-1675</span></h2><div class="pubdate">03 Jan at 16:02:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1675">https://github.com/qt4cg/qtspecs/issues/1675</a></div><p>CSV parsing</p></div>
<div class="toot" id="created-1674"><h2>Pull request #1674 created<span class="toot-id"> #created-1674</span></h2><div class="pubdate">03 Jan at 13:32:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1674">https://github.com/qt4cg/qtspecs/pull/1674</a></div><details><summary>1662 Allow composite sort keys in xsl:sort</summary><div class="markup"><p>Fix #1662</p>
</div></details></div>
<div class="toot" id="created-1673"><h2>Pull request #1673 created<span class="toot-id"> #created-1673</span></h2><div class="pubdate">03 Jan at 01:07:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1673">https://github.com/qt4cg/qtspecs/pull/1673</a></div><details><summary>1407 TOC structure for types</summary><div class="markup"><p>Addresses part of #1407:</p>
<ul>
<li>Improves the section headings and levels for the Types and Subtyping sections</li>
<li>Level-4 headings (and level-5 if there were any) are no longer omitted from the F&amp;O TOC.</li>
</ul>
<p>There are other suggestions in #1407 regarding the spec prose that are not (yet) implemented.</p>
<p>Changing the CSS to adjust presentation of level-4 and level-5 headings in the TOC is way above my level of CSS competence, there's some very elaborate logic in this area, and anyone who wants to tackle it is welcome.</p>
</div></details></div>
<div class="toot" id="created-1672"><h2>Issue #1672 created<span class="toot-id"> #created-1672</span></h2><div class="pubdate">02 Jan at 20:50:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1672">https://github.com/qt4cg/qtspecs/issues/1672</a></div><details><summary>array:values, map:values: Alternatives</summary><div class="markup"><p>We still have <code>array:values</code> and <code>map:values</code> in the spec, even though the names were considered suboptimal: When retrieving values of struct(ure(d item))s, one would expect to get not a flat, but a structured result.</p>
<p>A while ago, the <code>items</code> key specifier was introduced to mimic the classical wildcard lookup syntax (making <code>$A?*</code> and <code>$A?items::*</code> equivalent), and I suggest renaming our functions to <code>array:items</code> and <code>map:items</code>:</p>
<pre><code class="language-xquery">  $map?*
≍ map:items($map)

  $array?*
≍ array:items($array)
</code></pre>
<p>Plan&nbsp;B could be to extend the second argument of <code>map:get</code> (and <code>array:get</code>) to also accept predicate functions…</p>
<pre><code class="language-xquery">map:get(
  $map  as map(*),	
  $key  as (xs:anyAtomicType|fn(xs:anyAtomicType) as xs:boolean?)
) as item()*
</code></pre>
<p>…which would allow us to write:</p>
<pre><code class="language-xquery">  $map?a
≍ $map =&gt; map:get('a')
≍ $map =&gt; map:get(fn { . = 'a' })

  $map?(1 to 5)
≍ $map =&gt; map:get(fn { . = 1 to 5 })

  $map?*
≍ $map =&gt; map:get(true#0)

(: and things like :)
$map =&gt; map:get(fn { . mod 2 = 1 })
</code></pre>
</div></details></div>
<div class="toot" id="created-1671"><h2>Pull request #1671 created<span class="toot-id"> #created-1671</span></h2><div class="pubdate">01 Jan at 16:50:28 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1671">https://github.com/qt4cg/qtspecs/pull/1671</a></div><details><summary>1261 New fn:divide-decimals() function</summary><div class="markup"><p>Fix #1261</p>
</div></details></div>
<div class="toot" id="created-1670"><h2>Pull request #1670 created<span class="toot-id"> #created-1670</span></h2><div class="pubdate">01 Jan at 12:51:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1670">https://github.com/qt4cg/qtspecs/pull/1670</a></div><p>Action QT4CS-097-02: Enable xtermref links to XSD SCM property names</p></div></div></article></main></body></html>