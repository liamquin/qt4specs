<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="minutes-12-17"><h2>QT4 CG meeting 103 draft minutes<span class="toot-id"> #minutes-12-17</span></h2><div class="pubdate">17 Dec at 17:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2024/12-17">https://qt4cg.org/meeting/minutes/2024/12-17</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-1619"><h2>Issue #1619 closed<span class="toot-id"> #closed-1619</span></h2><div class="pubdate">17 Dec at 17:14:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1619">https://github.com/qt4cg/qtspecs/issues/1619</a></div><p>XSLT: keys as maps</p></div>
<div class="toot" id="closed-1622"><h2>Issue #1622 closed<span class="toot-id"> #closed-1622</span></h2><div class="pubdate">17 Dec at 17:14:50 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1622">https://github.com/qt4cg/qtspecs/pull/1622</a></div><p>1619 Specify XSLT map-for-key function</p></div>
<div class="toot" id="closed-332"><h2>Issue #332 closed<span class="toot-id"> #closed-332</span></h2><div class="pubdate">17 Dec at 17:11:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/332">https://github.com/qt4cg/qtspecs/issues/332</a></div><p>Add a namespace uris option to fn:path</p></div>
<div class="toot" id="closed-1620"><h2>Issue #1620 closed<span class="toot-id"> #closed-1620</span></h2><div class="pubdate">17 Dec at 17:11:26 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1620">https://github.com/qt4cg/qtspecs/pull/1620</a></div><p>332 Add options for fn:path</p></div>
<div class="toot" id="closed-1627"><h2>Issue #1627 closed<span class="toot-id"> #closed-1627</span></h2><div class="pubdate">17 Dec at 17:08:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1627">https://github.com/qt4cg/qtspecs/issues/1627</a></div><p>Drop validate() and valid() functions from schema-type-record</p></div>
<div class="toot" id="closed-1633"><h2>Issue #1633 closed<span class="toot-id"> #closed-1633</span></h2><div class="pubdate">17 Dec at 17:08:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1633">https://github.com/qt4cg/qtspecs/pull/1633</a></div><p>1627 Tweaks to schema type functions</p></div>
<div class="toot" id="closed-374"><h2>Issue #374 closed<span class="toot-id"> #closed-374</span></h2><div class="pubdate">17 Dec at 17:07:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/374">https://github.com/qt4cg/qtspecs/issues/374</a></div><p>Can't view the XSD for XSLT in the browser</p></div>
<div class="toot" id="closed-523"><h2>Issue #523 closed<span class="toot-id"> #closed-523</span></h2><div class="pubdate">17 Dec at 17:07:01 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/523">https://github.com/qt4cg/qtspecs/issues/523</a></div><p>Dealing with component name conflicts with library packages</p></div>
<div class="toot" id="closed-1655"><h2>Issue #1655 closed<span class="toot-id"> #closed-1655</span></h2><div class="pubdate">17 Dec at 17:06:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1655">https://github.com/qt4cg/qtspecs/issues/1655</a></div><p>JSON maps</p></div>
<div class="toot" id="closed-1634"><h2>Issue #1634 closed<span class="toot-id"> #closed-1634</span></h2><div class="pubdate">17 Dec at 17:05:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1634">https://github.com/qt4cg/qtspecs/issues/1634</a></div><p>Decimal formats in XPath/XQuery static context: updates needed</p></div>
<div class="toot" id="closed-1638"><h2>Issue #1638 closed<span class="toot-id"> #closed-1638</span></h2><div class="pubdate">17 Dec at 17:05:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1638">https://github.com/qt4cg/qtspecs/pull/1638</a></div><p>1634 Update description of decimal properties in the static context</p></div>
<div class="toot" id="closed-1652"><h2>Issue #1652 closed<span class="toot-id"> #closed-1652</span></h2><div class="pubdate">17 Dec at 17:04:09 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1652">https://github.com/qt4cg/qtspecs/issues/1652</a></div><p>Use function/xfunction markup</p></div>
<div class="toot" id="closed-1653"><h2>Issue #1653 closed<span class="toot-id"> #closed-1653</span></h2><div class="pubdate">17 Dec at 17:04:08 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1653">https://github.com/qt4cg/qtspecs/pull/1653</a></div><p>1652 Use function markup</p></div>
<div class="toot" id="created-1659"><h2>Issue #1659 created<span class="toot-id"> #created-1659</span></h2><div class="pubdate">17 Dec at 16:59:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1659">https://github.com/qt4cg/qtspecs/issues/1659</a></div><details><summary>List-valued options represented as arrays</summary><div class="markup"><p>The specification of the of the <a href="https://qt4cg.org/specifications/xpath-functions-40/Overview.html#option-parameter-conventions">option parameter conventions</a> contains this:</p>
<blockquote>
<p>In cases where an option is list-valued, by convention the function should accept either a sequence or an array: but this rule applies only if the specification of the option explicitly accepts either. Accepting a sequence is convenient if the value is generated programmatically using an XPath expression; while accepting an array allows the options to be held in an external file in JSON format, to be read using a call on the fn:json-doc function.</p>
</blockquote>
<p>In particular, it says</p>
<blockquote>
<p>...this rule applies only if the specification of the option explicitly accepts either...</p>
</blockquote>
<p>However I could not find any option that explicitly makes use of "accepts either" in the specification. In the tests, I found two cases where arrays are passed as option values: <a href="https://github.com/qt4cg/qt4tests/blob/8be46fb7e7e22164dd9005d9c53e7d2f585bbb90/fn/format-number.xml#L3757-L3770"><code>numberformat-510</code></a> (here the option isn't even list-valued), and <a href="https://github.com/qt4cg/qt4tests/blob/master/fn/serialize.xml#L1332-L1349"><code>serialize-xml-106a</code></a>.</p>
<p>I am wondering whether the above paragraph might be superfluous. The text preceding it says that option values are coerced to the required type, and that implies converting an array to its member sequence, doesn't it?</p>
</div></details></div>
<div class="toot" id="created-1658"><h2>Issue #1658 created<span class="toot-id"> #created-1658</span></h2><div class="pubdate">17 Dec at 15:55:47 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1658">https://github.com/qt4cg/qtspecs/issues/1658</a></div><details><summary>fn:elements-to-maps: `empty`, normalize space ?</summary><div class="markup"><p>The current rules say:</p>
<blockquote>
<p>If <code>empty($EE/(* | text())</code> (that is, if there are no child elements or text nodes) then: […] <code>empty</code>
If <code>empty($EE/text()[normalize-space()])</code> (that is, there are no text node children other than whitespace), then: […] <code>list</code></p>
</blockquote>
<p>Maybe it would be consistent to add <code>[normalize-space()]</code> to the condition of the <code>empty</code> layout?</p>
</div></details></div>
<div class="toot" id="agenda-12-17"><h2>QT4 CG meeting 103 draft agenda<span class="toot-id"> #agenda-12-17</span></h2><div class="pubdate">16 Dec at 10:10:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/12-17">https://qt4cg.org/meeting/agenda/2024/12-17</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="closed-1550"><h2>Issue #1550 closed<span class="toot-id"> #closed-1550</span></h2><div class="pubdate">15 Dec at 20:59:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1550">https://github.com/qt4cg/qtspecs/issues/1550</a></div><p>More requirements for type information</p></div>
<div class="toot" id="created-1657"><h2>Pull request #1657 created<span class="toot-id"> #created-1657</span></h2><div class="pubdate">15 Dec at 11:58:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1657">https://github.com/qt4cg/qtspecs/pull/1657</a></div><details><summary>1624 Add note explaining nodetest subtyping</summary><div class="markup"><p>Fix #1624</p>
<p>by adding a note explaining the problem.</p>
</div></details></div>
<div class="toot" id="created-1656"><h2>Issue #1656 created<span class="toot-id"> #created-1656</span></h2><div class="pubdate">15 Dec at 11:35:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1656">https://github.com/qt4cg/qtspecs/issues/1656</a></div><details><summary>Ordered Maps: Updates</summary><div class="markup"><p>If maps are updated, insertion/deletion order may be an issue, even more if maps will be ordered by default (#1651).</p>
<p>This topic needs to be discussed in more depth before we take any actions.</p>
<p>Personally, I think we should focus on XML updates first (related: #1225).</p>
</div></details></div>
<div class="toot" id="closed-1457"><h2>Issue #1457 closed<span class="toot-id"> #closed-1457</span></h2><div class="pubdate">15 Dec at 00:42:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1457">https://github.com/qt4cg/qtspecs/issues/1457</a></div><p>Common name for maps &amp; arrays</p></div>
<div class="toot" id="closed-1588"><h2>Issue #1588 closed<span class="toot-id"> #closed-1588</span></h2><div class="pubdate">15 Dec at 00:41:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1588">https://github.com/qt4cg/qtspecs/issues/1588</a></div><p>Move the Streamability chapter?</p></div>
<div class="toot" id="closed-1592"><h2>Issue #1592 closed<span class="toot-id"> #closed-1592</span></h2><div class="pubdate">15 Dec at 00:40:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1592">https://github.com/qt4cg/qtspecs/issues/1592</a></div><p>fn:elements-to-maps: Observations</p></div>
<div class="toot" id="closed-1654"><h2>Issue #1654 closed<span class="toot-id"> #closed-1654</span></h2><div class="pubdate">15 Dec at 00:35:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1654">https://github.com/qt4cg/qtspecs/issues/1654</a></div><p>Type annotations on maps and arrays</p></div>
<div class="toot" id="created-1655"><h2>Issue #1655 created<span class="toot-id"> #created-1655</span></h2><div class="pubdate">11 Dec at 22:46:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1655">https://github.com/qt4cg/qtspecs/issues/1655</a></div><details><summary>JSON maps</summary><div class="markup"><p>Now that we are discussing different types of maps, there could also be JSON maps. Then each map would have a property <code>json</code>, that can be false or true. If it is false, it is an ordinary map like now. If it is true, it is a "JSON map".</p>
<p>A JSON map can only have string keys, and all map functions would enforce that constraint by casting the key to string.</p>
<p>Parse-json and json-doc would return a JSON map. As would the bare brace <code>{}</code> constructor for compatibility with Javascript.</p>
<p>For example</p>
<pre><code>let $json := parse-json('{"1": 234}')
return map:put($json, 1, 456)
</code></pre>
<p>would return a JSON map <code>{"1": 456}</code>.</p>
<pre><code>let $json := parse-json('{"1": 234}')
return map:contains($json, 1)
</code></pre>
<p>would return true.</p>
</div></details></div>
<div class="toot" id="created-1654"><h2>Issue #1654 created<span class="toot-id"> #created-1654</span></h2><div class="pubdate">11 Dec at 19:48:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1654">https://github.com/qt4cg/qtspecs/issues/1654</a></div><details><summary>Type annotations on maps and arrays</summary><div class="markup"><p>Currently maps and arrays have very little type safety. You can say that your function expects array(xs:string), but that involves testing what the array actually contains, and there's nothing to stop you then appending an integer to the array.</p>
<p>I would like to explore the possibility of having arrays and maps annotated with a type (either always, or optionally), and for this type to constrain operations such as array:append() and map:put().</p>
<p>@dnovatchev has suggested that ordered maps and unordered maps should be different types, and I think it would be difficult to do that unless we move to structural typing. It's also more consistent with typing of atomic values and nodes - though it raises a question about sequences, where the type is purely descriptive.</p>
<p>This would also have implications for records: presumably a map could be annotated with a record type, and this too could constrain the operations available on the value.</p>
<p>This is a rather big change and I put it forward fairly tentatively, but I'm interested to hear people's views.</p>
</div></details></div>
<div class="toot" id="created-1653"><h2>Pull request #1653 created<span class="toot-id"> #created-1653</span></h2><div class="pubdate">11 Dec at 08:31:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1653">https://github.com/qt4cg/qtspecs/pull/1653</a></div><details><summary>1652 Use function markup</summary><div class="markup"><p>Replace <code>&lt;code&gt;</code> with <code>&lt;function&gt;</code> tags where appropriate.</p>
<p>Fix #1652</p>
</div></details></div>
<div class="toot" id="created-1652"><h2>Issue #1652 created<span class="toot-id"> #created-1652</span></h2><div class="pubdate">11 Dec at 07:45:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1652">https://github.com/qt4cg/qtspecs/issues/1652</a></div><details><summary>Use function/xfunction markup</summary><div class="markup"><p>PR #1616 instroduced improved support for the function and xfunction tags.</p>
<p>We should now change the documents to take advantage of this.</p>
</div></details></div>
<div class="toot" id="minutes-12-10"><h2>QT4 CG meeting 102 draft minutes<span class="toot-id"> #minutes-12-10</span></h2><div class="pubdate">10 Dec at 17:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2024/12-10">https://qt4cg.org/meeting/minutes/2024/12-10</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-1616"><h2>Issue #1616 closed<span class="toot-id"> #closed-1616</span></h2><div class="pubdate">10 Dec at 17:21:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1616">https://github.com/qt4cg/qtspecs/pull/1616</a></div><p>A little cleanup; support function/xfunction globally</p></div></div><p>See 3334
            more statuses in yearly archives.</p></article></main></body></html>