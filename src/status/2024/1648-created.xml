<item>
   <title>Issue #1648 created</title>
   <pubDate>2024-12-06T23:00:39Z</pubDate>
   <link>https://github.com/qt4cg/qtspecs/issues/1648</link>
   <guid>https://qt4cg.org/@qt4cg/2024/#created-1648</guid>
   <description>&lt;div&gt;&lt;p&gt;fn:elements-to-maps: Types&lt;/p&gt;&lt;div class="markup"&gt;&lt;p&gt;Copied from https://github.com/qt4cg/qtspecs/issues/1592#issuecomment-2493270899:&lt;/p&gt;
&lt;p&gt;With regard to types, I would propose to introduce a separate option:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-xquery"&gt;elements-to-maps(
  &amp;lt;value&amp;gt;42&amp;lt;/value&amp;gt;,
  { 'types': { 'value': 'number' } }
)

→ { "value": 42 }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;I have a preference for strings, as we can prefix them with &lt;code&gt;@&lt;/code&gt;. Next, the representation could be identical to the result, which I believe is more intuitive:&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-xquery"&gt;elements-to-maps(
  &amp;lt;value count='3'/&amp;gt;
  { 'types': { '@count': 'number' } }
)

→ { "value": { "@count": 3 } }
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Of course, we could also have two options (&lt;code&gt;element-types&lt;/code&gt;, &lt;code&gt;attribute-types&lt;/code&gt;).&lt;/p&gt;
&lt;/div&gt;&lt;/div&gt;</description>
</item>
