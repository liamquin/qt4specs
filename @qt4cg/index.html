<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2025/">2025</a>, <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="agenda-02-04"><h2>QT4 CG meeting 108 draft agenda<span class="toot-id"> #agenda-02-04</span></h2><div class="pubdate">03 Feb at 11:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2025/02-04">https://qt4cg.org/meeting/agenda/2025/02-04</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="created-1762"><h2>Issue #1762 created<span class="toot-id"> #created-1762</span></h2><div class="pubdate">03 Feb at 10:44:20 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1762">https://github.com/qt4cg/qtspecs/issues/1762</a></div><details><summary>Combining different kinds of arrow</summary><div class="markup"><p>In the spec, under arrow expressions, we have this example:</p>
<p><code>(1 to 5) =!&gt; xs:double() =!&gt; math:sqrt() =!&gt; fn($a) { $a + 1 }() =&gt; sum()</code></p>
<p>That use of an inline function is pretty clumsy, and it would be nice to think we could eliminate it using the new <code>-&gt;</code> operator. But it ain't easy.</p>
<p>We can't do</p>
<p><code>(1 to 5) =!&gt; xs:double() =!&gt; math:sqrt() -&gt; .+1 =&gt; sum()</code></p>
<p>because the precedence is wrong.</p>
<p>We can't do</p>
<p><code>(1 to 5) =!&gt; (xs:double() =&gt; math:sqrt() -&gt; .+1 ) =&gt; sum()</code></p>
<p>because we can't have a parenthesised construct on the RHS of the mapping arrow.</p>
<p>We can use the bang operator but the parentheses are awkward:</p>
<p><code>((1 to 5) ! (xs:double(.) =&gt; math:sqrt() -&gt; .+1 )) =&gt; sum()</code></p>
<p>Any better ideas?</p>
</div></details></div>
<div class="toot" id="created-1761"><h2>Pull request #1761 created<span class="toot-id"> #created-1761</span></h2><div class="pubdate">03 Feb at 10:01:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1761">https://github.com/qt4cg/qtspecs/pull/1761</a></div><details><summary>1752 Correct return type of fn:partition()</summary><div class="markup"><p>Fix #1752</p>
</div></details></div>
<div class="toot" id="created-1760"><h2>Pull request #1760 created<span class="toot-id"> #created-1760</span></h2><div class="pubdate">03 Feb at 09:44:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1760">https://github.com/qt4cg/qtspecs/pull/1760</a></div><details><summary>Remove hand-generated diffs from the builds</summary><div class="markup"><p>Fix #1757</p>
<p>The PR build isn't going to be very informative, but I'll leave this one open in case anyone wants to review the source code diffs.</p>
<p>I did not attempt to remove the XML markup from the specs. Perhaps we should, but I think we'd want to manage that carefully to avoid an absolute mountain of merge conflicts.</p>
</div></details></div>
<div class="toot" id="closed-1744"><h2>Issue #1744 closed<span class="toot-id"> #closed-1744</span></h2><div class="pubdate">03 Feb at 09:15:06 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1744">https://github.com/qt4cg/qtspecs/pull/1744</a></div><p>Remove dead wood re: SVG diagrams from the XSLT build</p></div>
<div class="toot" id="created-1759"><h2>Pull request #1759 created<span class="toot-id"> #created-1759</span></h2><div class="pubdate">03 Feb at 09:01:16 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1759">https://github.com/qt4cg/qtspecs/pull/1759</a></div><details><summary>Fix validation issues in the EXPath module function catalogs</summary><div class="markup"><p>Fix #1758</p>
</div></details></div>
<div class="toot" id="created-1758"><h2>Issue #1758 created<span class="toot-id"> #created-1758</span></h2><div class="pubdate">03 Feb at 08:50:44 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1758">https://github.com/qt4cg/qtspecs/issues/1758</a></div><details><summary>EXPath specification validation problems</summary><div class="markup"><p>As @michaelhkay noted in email, the function catalogs for the EXPath specifications are not being validated.</p>
<p>That validation only occurs during test generation ¯_(ツ)_/¯</p>
<ol>
<li>Add an example to the EXPath file specification so that it's possible to run test generation</li>
<li>Add test generation for EXPath file and binary to the build</li>
<li>Fix the validation errors in the function catalog</li>
</ol>
</div></details></div>
<div class="toot" id="closed-1756"><h2>Issue #1756 closed<span class="toot-id"> #closed-1756</span></h2><div class="pubdate">03 Feb at 08:43:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1756">https://github.com/qt4cg/qtspecs/pull/1756</a></div><p>Make DeltaXML diffs on the main build too</p></div>
<div class="toot" id="created-1757"><h2>Issue #1757 created<span class="toot-id"> #created-1757</span></h2><div class="pubdate">03 Feb at 08:20:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1757">https://github.com/qt4cg/qtspecs/issues/1757</a></div><details><summary>Build cleanup: remove the "by hand" diffs</summary><div class="markup"><p>Unless I'm mistaken, the 'by hand' diffs, the ones that are created from explicit diff markup added by the editors, have not been consistently maintained for some time.</p>
<p>We still have places that point to them, and I think this could be confusing.</p>
<p>I propose that we pull all of that machinery out and remove references to them.</p>
</div></details></div>
<div class="toot" id="created-1756"><h2>Pull request #1756 created<span class="toot-id"> #created-1756</span></h2><div class="pubdate">03 Feb at 07:18:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1756">https://github.com/qt4cg/qtspecs/pull/1756</a></div><details><summary>Make DeltaXML diffs on the main build too</summary><div class="markup"><p>This PR should build DeltaXML diffs of the EXPath specs...and when merged, should build them on the main build as well.</p>
</div></details></div>
<div class="toot" id="closed-1755"><h2>Issue #1755 closed<span class="toot-id"> #closed-1755</span></h2><div class="pubdate">03 Feb at 07:02:23 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1755">https://github.com/qt4cg/qtspecs/pull/1755</a></div><p>Attempt to make DeltaXML diffs for EXPath specs</p></div>
<div class="toot" id="created-1755"><h2>Pull request #1755 created<span class="toot-id"> #created-1755</span></h2><div class="pubdate">03 Feb at 07:02:15 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1755">https://github.com/qt4cg/qtspecs/pull/1755</a></div><p>Attempt to make DeltaXML diffs for EXPath specs</p></div>
<div class="toot" id="created-1754"><h2>Issue #1754 created<span class="toot-id"> #created-1754</span></h2><div class="pubdate">02 Feb at 23:57:35 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1754">https://github.com/qt4cg/qtspecs/issues/1754</a></div><details><summary>Inverse functions to bin:hex, bin:bin, and bin:octal</summary><div class="markup"><p>In writing formal equivalents for the functions in the binary EXPath module, I found that while we have bin:bin() which turns a string of 0s and 1s into a binary value, we don't have any convenient way of doing the inverse. The same is true for octal. For hex we can cast to hexBinary and then cast to string, but that's a bit of a circumlocution.</p>
<p>I propose functions bin:to-bin, bin:to-octal and bin:to-hex that convert a binary value to a string of binary, octal, or hexadecimal digits respectively. Perhaps with an options parameter that allows a grouping separator and grouping size to be specified.</p>
</div></details></div>
<div class="toot" id="created-1753"><h2>Pull request #1753 created<span class="toot-id"> #created-1753</span></h2><div class="pubdate">02 Feb at 21:13:19 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1753">https://github.com/qt4cg/qtspecs/pull/1753</a></div><details><summary>1750 Overhaul of EXPath binary spec</summary><div class="markup"><p>Apart from general copy-editing, the main changes are:</p>
<ul>
<li>A lot more examples, presented in executable markup format (though they are not yet tested)</li>
<li>Many functions now have formal equivalents (again, currently untested)</li>
<li>Allow underscores and spaces in input to bin:hex, bin:octal, and bin:bin</li>
<li>Use type xs:unsignedByte for octet arguments</li>
<li>Use an enum() type for the octet-order argument</li>
</ul>
<p>Fix #1750</p>
</div></details></div>
<div class="toot" id="created-1752"><h2>Issue #1752 created<span class="toot-id"> #created-1752</span></h2><div class="pubdate">02 Feb at 19:18:45 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1752">https://github.com/qt4cg/qtspecs/issues/1752</a></div><details><summary>Return type of fn:partition()</summary><div class="markup"><p>The return type of <code>fn:partition</code> should be <code>array(item()*)*</code> not <code>array(item())*</code>.</p>
</div></details></div>
<div class="toot" id="created-1751"><h2>Issue #1751 created<span class="toot-id"> #created-1751</span></h2><div class="pubdate">02 Feb at 00:28:22 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1751">https://github.com/qt4cg/qtspecs/issues/1751</a></div><details><summary>bin:encode-string - should the result have a BOM?</summary><div class="markup"><p>Test cases in the EXPath test suite using <code>bin:encode-string</code> with encoding=utf-16 include a BOM at the start of the output, but the spec says nothing about this. It's probably useful for some use case but a nuisance for others.</p>
</div></details></div>
<div class="toot" id="created-1750"><h2>Issue #1750 created<span class="toot-id"> #created-1750</span></h2><div class="pubdate">01 Feb at 00:44:37 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1750">https://github.com/qt4cg/qtspecs/issues/1750</a></div><details><summary>EXPath Binary : copy-edits and minor enhancements</summary><div class="markup"><p>Suggested minor enhancements:</p>
<ul>
<li>Allow underscores and whitespace in strings of binary, octal, or hex digits supplied as strings.</li>
<li>Use type <code>xs:unsignedByte</code> rather than xs:integer for octet values</li>
<li>Use an enum type for params like "little-endian".</li>
</ul>
<p>The following are some suggested copy-edits:</p>
<p>Abstract para 4 - link to XQuery 4.1. The last sentence of the para ("The signatures and summaries of functions defined in this document...") makes no sense.</p>
<p>1.1 para 1, twice, ".)" should be ").".</p>
<p>1.2 Mention that the coercion rules in 4.0 mean that wherever a function accepts xs:base64Binary, it also accepts xs:hexBinary (but we've changed the signature to allow either, anyway).</p>
<p>para 2. " if the result return"?</p>
<p>The Note is ineleganty worded.</p>
<p>1.3 I guess we should integrate the test suite into QT4.</p>
<p>1.5 para 2 "In accordance with current practice" eh?</p>
<p>2.1 Example would benefit from reformatting.</p>
<p>2.2 Example, similarly. Could use underscores in the long integers. "and the examples from above reverse"??</p>
<ol start="3">
<li>
<p>"fn:fn:binary-resource" does not yet exist and is triple-barrelled.</p>
</li>
<li>
<p>Avoid "apologetic quotes" in 'constants'. And elsewhere. If it doesn't work as plain English without quotes, then it needs to be a defined term.</p>
</li>
</ol>
<p>4.1 and throughout, in Examples, use the F&amp;O rendition rather than the right arrow. Also, add these functions to the example checking mechanism.</p>
<p>4.1 Notes, be more precise than "similarly". Define formal equivalent. Non-editorial enhancement: allow underscores in the string.</p>
<p>4.2 There must be a more elegant way of saying "(8-wise) (ASCII) binary digits ([01])". Allow underscores.</p>
<p>4.2 "a xs:base64Binary with no embedded data" - use the term "zero-length".</p>
<p>4.3 similarly. Allow underscores.</p>
<p>Function properties: I think all these functions are pure functions so it's a waste of space to say this explicitly for each function.</p>
<p>4.4, 4.5 Use <code>xs:unsignedByte</code> to represent octets now that we have implicit downcasting. (Changes error code [[bin:octet-out-of-range]to XPTY0004).</p>
<p>5.6 "blank octets"?</p>
<p>7.1.2 "or assumed to be represented"</p>
<p>7.1.3 "Care should be taken" - what does this mean?</p>
<p>"Positive and negative infinities are supported" - who or what is doing the supporting?</p>
<p>Use underscore rather than space as separators between digits.</p>
<p>'quiet' NaN - avoid apologetic quotes.</p>
<p>7.4 - I find the note regarding signed/unsigned integers very confusing.</p>
<p>8.1: "bitwise or" - avoid apologetic quotes. For these three functions we should say what they do rather than assuming the reader will guess from the names. bin:shift could do with more precision. Perhaps the functions could be explained more formally by a mapping from a binary value to a sequence of booleans, then for example bin:and becomes something like for-each-pair(op:from-bits($a), op:from-bits($b), op('and') ) =&gt; op:to-bits().</p>
<p>8.5: avoid the notation <code>|$by|</code> for absolute value. Not all of us remember our schooldays. (And when I was at school, <code>by</code> meant <code>b × y</code>, and $ meant dollars.)</p>
</div></details></div>
<div class="toot" id="closed-1749"><h2>Issue #1749 closed<span class="toot-id"> #closed-1749</span></h2><div class="pubdate">31 Jan at 12:56:33 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1749">https://github.com/qt4cg/qtspecs/pull/1749</a></div><p>Don't set the function finder position to 'fixed' on small devices</p></div>
<div class="toot" id="created-1749"><h2>Pull request #1749 created<span class="toot-id"> #created-1749</span></h2><div class="pubdate">31 Jan at 12:56:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1749">https://github.com/qt4cg/qtspecs/pull/1749</a></div><details><summary>Don't set the function finder position to 'fixed' on small devices</summary><div class="markup"><p>This is also related to 1747. It "fixes" the problem that @ChristianGruen reported where the function finder obscured content on mobile (narrow) devices. I've changed things so that it isn't at a fixed location on narrow devices. It still appears above the ToC, but it scrolls as normal.</p>
</div></details></div>
<div class="toot" id="closed-1748"><h2>Issue #1748 closed<span class="toot-id"> #closed-1748</span></h2><div class="pubdate">31 Jan at 09:41:01 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1748">https://github.com/qt4cg/qtspecs/pull/1748</a></div><p>Fix 'window.onload' bug in ToC JS</p></div>
<div class="toot" id="created-1748"><h2>Pull request #1748 created<span class="toot-id"> #created-1748</span></h2><div class="pubdate">31 Jan at 09:40:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1748">https://github.com/qt4cg/qtspecs/pull/1748</a></div><details><summary>Fix 'window.onload' bug in ToC JS</summary><div class="markup"><p>This fixes 1747 so I'm going to push it immediately.</p>
<p>I'm leaving the bug open because I'll also look at @ChristianGruen 's report that it is problematic on mobile.</p>
</div></details></div>
<div class="toot" id="created-1747"><h2>Issue #1747 created<span class="toot-id"> #created-1747</span></h2><div class="pubdate">31 Jan at 07:16:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1747">https://github.com/qt4cg/qtspecs/issues/1747</a></div><details><summary>Function finder is broken</summary><div class="markup"><p>The function finder in F&amp;O (and elsewhere) is broken. I believe that it uses the ToC to find the link target and now that the ToC structure has changed, it's failing.</p>
</div></details></div>
<div class="toot" id="closed-1745"><h2>Issue #1745 closed<span class="toot-id"> #closed-1745</span></h2><div class="pubdate">30 Jan at 15:50:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1745">https://github.com/qt4cg/qtspecs/pull/1745</a></div><p>Implement expanding/collapsing ToC</p></div>
<div class="toot" id="created-1746"><h2>Pull request #1746 created<span class="toot-id"> #created-1746</span></h2><div class="pubdate">30 Jan at 15:49:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1746">https://github.com/qt4cg/qtspecs/pull/1746</a></div><details><summary>Replace processing model diagrams</summary><div class="markup"><p>Fix #1733</p>
</div></details></div>
<div class="toot" id="created-1745"><h2>Pull request #1745 created<span class="toot-id"> #created-1745</span></h2><div class="pubdate">30 Jan at 13:48:18 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1745">https://github.com/qt4cg/qtspecs/pull/1745</a></div><details><summary>Implement expanding/collapsing ToC</summary><div class="markup"><p>I'm just going to merge this one because</p>
<ol>
<li>The CG agreed they wanted this</li>
<li>All of the changes are presentational, there are no technical changes</li>
<li>The PR build won't work anyway</li>
</ol>
<p>I did make a couple of executive decisions.</p>
<p>The use of "..." as the target to click on didn't seem like a practical affordance. It's not a common use of ellipsis and it looked too much like it simply meant that part of the title was elided. I went with right and down triangles instead. And I added the few lines of JS required to make them "turn".</p>
<p>I added a top-level expand/collapse that does all of the sections. I wasn't happy that with the new UI, there was no way to get an overview of the document by seeing all of the section titles.</p>
<p>I tinkered with the CSS. I'm not uniformly happy with it, especially with the treatment of long titles, but I think the aesthetic failings are infrequent.</p>
<p>We need to review accessibility before we try to publish as a CG Report.</p>
</div></details></div>
<div class="toot" id="created-1744"><h2>Pull request #1744 created<span class="toot-id"> #created-1744</span></h2><div class="pubdate">30 Jan at 10:47:05 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1744">https://github.com/qt4cg/qtspecs/pull/1744</a></div><details><summary>Remove dead wood re: SVG diagrams from the XSLT build</summary><div class="markup"><p>Completes action QT4CG-106-01</p>
</div></details></div>
<div class="toot" id="created-1743"><h2>Pull request #1743 created<span class="toot-id"> #created-1743</span></h2><div class="pubdate">30 Jan at 10:11:43 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1743">https://github.com/qt4cg/qtspecs/pull/1743</a></div><details><summary>1738 Formatting of Notes in F&amp;O</summary><div class="markup"><ol>
<li>Improves the stylesheets and CSS so that Notes sections in the F&amp;O spec are rendered with a single continuous green stripe, rather than a separate (and sometimes indented) stripe per paragraph or list item.</li>
<li>Makes some other markup changes identified in passing, especially using <code>&lt;char&gt;</code> to mark up individual characters.</li>
</ol>
</div></details></div>
<div class="toot" id="created-1742"><h2>Issue #1742 created<span class="toot-id"> #created-1742</span></h2><div class="pubdate">29 Jan at 20:20:29 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1742">https://github.com/qt4cg/qtspecs/issues/1742</a></div><details><summary>Maps constructed using streamed xsl:fork instruction should not be ordered</summary><div class="markup"><p>One of the techniques used in XSLT streaming is to build multiple outputs during a single streamed pass of the input, and the multiple outputs can be captured in different entries in a map (in different prongs of an <code>xsl:fork</code> instruction). The ordering of such a map should be implementation-dependent, in order to allow construction in parallel threads.</p>
<p>Furthermore, I think that an xsl:map instruction used in this way should probably not allow duplicate keys. In principle we could collect key/value pairs during the streamed processing and then resolve duplicates at the end, but it's extra complexity.</p>
</div></details></div>
<div class="toot" id="created-1741"><h2>Pull request #1741 created<span class="toot-id"> #created-1741</span></h2><div class="pubdate">29 Jan at 11:08:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1741">https://github.com/qt4cg/qtspecs/pull/1741</a></div><details><summary>1739 drop references to ordering mode in the static context</summary><div class="markup"><p>Fix #1739</p>
</div></details></div>
<div class="toot" id="created-1740"><h2>Pull request #1740 created<span class="toot-id"> #created-1740</span></h2><div class="pubdate">29 Jan at 10:22:51 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1740">https://github.com/qt4cg/qtspecs/pull/1740</a></div><details><summary>1725b Further elaboration of duplicates handling in maps</summary><div class="markup"><p>Actions QT4CG-107-02 and QT4CG-107-03.</p>
<p>The three functions map:build, map:of-pairs, and map:merge now all have the same options parameters, and avoid duplication in the specification. The xsl:map instruction is defined by reference to map:merge.</p>
<p>Although the action suggested specifying these functions to use the first key from a set of duplicates, I found this was not possible because of the way map:put is defined. They therefore use the last key from the set of duplicates.</p>
<p>Fix #1725</p>
</div></details></div></div><p>See 3538
            more statuses in yearly archives.</p></article></main></body></html>