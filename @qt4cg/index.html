<!DOCTYPE HTML><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><meta charset="UTF-8"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1"><link rel="stylesheet" href="/css/status.css"><title>@qt4cg statuses</title></head><body><main><article><h1>@qt4cg statuses</h1><p>This page displays recent status
            updates
            about the QT4CG project.</p><p>The are also captured in <a href="status.rss">an RSS feed</a>.</p><p>By year: <a href="2024/">2024</a>, <a href="2023/">2023</a>, <a href="2022/">2022</a>, <a href="2021/">2021</a>, <a href="2020/">2020</a></p><div class="toots">
<div class="toot" id="agenda-12-17"><h2>QT4 CG meeting 103 draft agenda<span class="toot-id"> #agenda-12-17</span></h2><div class="pubdate">16 Dec at 10:10:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/12-17">https://qt4cg.org/meeting/agenda/2024/12-17</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="closed-1550"><h2>Issue #1550 closed<span class="toot-id"> #closed-1550</span></h2><div class="pubdate">15 Dec at 20:59:12 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1550">https://github.com/qt4cg/qtspecs/issues/1550</a></div><p>More requirements for type information</p></div>
<div class="toot" id="created-1657"><h2>Pull request #1657 created<span class="toot-id"> #created-1657</span></h2><div class="pubdate">15 Dec at 11:58:52 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1657">https://github.com/qt4cg/qtspecs/pull/1657</a></div><details><summary>1624 Add note explaining nodetest subtyping</summary><div class="markup"><p>Fix #1624</p>
<p>by adding a note explaining the problem.</p>
</div></details></div>
<div class="toot" id="created-1656"><h2>Issue #1656 created<span class="toot-id"> #created-1656</span></h2><div class="pubdate">15 Dec at 11:35:59 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1656">https://github.com/qt4cg/qtspecs/issues/1656</a></div><details><summary>Ordered Maps: Updates</summary><div class="markup"><p>If maps are updated, insertion/deletion order may be an issue, even more if maps will be ordered by default (#1651).</p>
<p>This topic needs to be discussed in more depth before we take any actions.</p>
<p>Personally, I think we should focus on XML updates first (related: #1225).</p>
</div></details></div>
<div class="toot" id="closed-1457"><h2>Issue #1457 closed<span class="toot-id"> #closed-1457</span></h2><div class="pubdate">15 Dec at 00:42:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1457">https://github.com/qt4cg/qtspecs/issues/1457</a></div><p>Common name for maps &amp; arrays</p></div>
<div class="toot" id="closed-1588"><h2>Issue #1588 closed<span class="toot-id"> #closed-1588</span></h2><div class="pubdate">15 Dec at 00:41:34 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1588">https://github.com/qt4cg/qtspecs/issues/1588</a></div><p>Move the Streamability chapter?</p></div>
<div class="toot" id="closed-1592"><h2>Issue #1592 closed<span class="toot-id"> #closed-1592</span></h2><div class="pubdate">15 Dec at 00:40:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1592">https://github.com/qt4cg/qtspecs/issues/1592</a></div><p>fn:elements-to-maps: Observations</p></div>
<div class="toot" id="closed-1654"><h2>Issue #1654 closed<span class="toot-id"> #closed-1654</span></h2><div class="pubdate">15 Dec at 00:35:40 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1654">https://github.com/qt4cg/qtspecs/issues/1654</a></div><p>Type annotations on maps and arrays</p></div>
<div class="toot" id="created-1655"><h2>Issue #1655 created<span class="toot-id"> #created-1655</span></h2><div class="pubdate">11 Dec at 22:46:27 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1655">https://github.com/qt4cg/qtspecs/issues/1655</a></div><details><summary>JSON maps</summary><div class="markup"><p>Now that we are discussing different types of maps, there could also be JSON maps. Then each map would have a property <code>json</code>, that can be false or true. If it is false, it is an ordinary map like now. If it is true, it is a "JSON map".</p>
<p>A JSON map can only have string keys, and all map functions would enforce that constraint by casting the key to string.</p>
<p>Parse-json and json-doc would return a JSON map. As would the bare brace <code>{}</code> constructor for compatibility with Javascript.</p>
<p>For example</p>
<pre><code>let $json := parse-json('{"1": 234}')
return map:put($json, 1, 456)
</code></pre>
<p>would return a JSON map <code>{"1": 456}</code>.</p>
<pre><code>let $json := parse-json('{"1": 234}')
return map:contains($json, 1)
</code></pre>
<p>would return true.</p>
</div></details></div>
<div class="toot" id="created-1654"><h2>Issue #1654 created<span class="toot-id"> #created-1654</span></h2><div class="pubdate">11 Dec at 19:48:13 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1654">https://github.com/qt4cg/qtspecs/issues/1654</a></div><details><summary>Type annotations on maps and arrays</summary><div class="markup"><p>Currently maps and arrays have very little type safety. You can say that your function expects array(xs:string), but that involves testing what the array actually contains, and there's nothing to stop you then appending an integer to the array.</p>
<p>I would like to explore the possibility of having arrays and maps annotated with a type (either always, or optionally), and for this type to constrain operations such as array:append() and map:put().</p>
<p>@dnovatchev has suggested that ordered maps and unordered maps should be different types, and I think it would be difficult to do that unless we move to structural typing. It's also more consistent with typing of atomic values and nodes - though it raises a question about sequences, where the type is purely descriptive.</p>
<p>This would also have implications for records: presumably a map could be annotated with a record type, and this too could constrain the operations available on the value.</p>
<p>This is a rather big change and I put it forward fairly tentatively, but I'm interested to hear people's views.</p>
</div></details></div>
<div class="toot" id="created-1653"><h2>Pull request #1653 created<span class="toot-id"> #created-1653</span></h2><div class="pubdate">11 Dec at 08:31:38 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1653">https://github.com/qt4cg/qtspecs/pull/1653</a></div><details><summary>1652 Use function markup</summary><div class="markup"><p>Replace <code>&lt;code&gt;</code> with <code>&lt;function&gt;</code> tags where appropriate.</p>
<p>Fix #1652</p>
</div></details></div>
<div class="toot" id="created-1652"><h2>Issue #1652 created<span class="toot-id"> #created-1652</span></h2><div class="pubdate">11 Dec at 07:45:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1652">https://github.com/qt4cg/qtspecs/issues/1652</a></div><details><summary>Use function/xfunction markup</summary><div class="markup"><p>PR #1616 instroduced improved support for the function and xfunction tags.</p>
<p>We should now change the documents to take advantage of this.</p>
</div></details></div>
<div class="toot" id="minutes-12-10"><h2>QT4 CG meeting 102 draft minutes<span class="toot-id"> #minutes-12-10</span></h2><div class="pubdate">10 Dec at 17:30:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/minutes/2024/12-10">https://qt4cg.org/meeting/minutes/2024/12-10</a></div><p>Draft minutes published.</p></div>
<div class="toot" id="closed-1616"><h2>Issue #1616 closed<span class="toot-id"> #closed-1616</span></h2><div class="pubdate">10 Dec at 17:21:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1616">https://github.com/qt4cg/qtspecs/pull/1616</a></div><p>A little cleanup; support function/xfunction globally</p></div>
<div class="toot" id="closed-1636"><h2>Issue #1636 closed<span class="toot-id"> #closed-1636</span></h2><div class="pubdate">10 Dec at 17:18:07 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1636">https://github.com/qt4cg/qtspecs/pull/1636</a></div><p>Initial conversion of EXPath Binary/File</p></div>
<div class="toot" id="closed-1103"><h2>Issue #1103 closed<span class="toot-id"> #closed-1103</span></h2><div class="pubdate">10 Dec at 17:15:01 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1103">https://github.com/qt4cg/qtspecs/issues/1103</a></div><p>CSV Parsing - handling line ending normalization</p></div>
<div class="toot" id="closed-1643"><h2>Issue #1643 closed<span class="toot-id"> #closed-1643</span></h2><div class="pubdate">10 Dec at 17:15:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1643">https://github.com/qt4cg/qtspecs/pull/1643</a></div><p>1103 Normalize line endings in CSV prior to parsing</p></div>
<div class="toot" id="closed-1637"><h2>Issue #1637 closed<span class="toot-id"> #closed-1637</span></h2><div class="pubdate">10 Dec at 17:12:57 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1637">https://github.com/qt4cg/qtspecs/issues/1637</a></div><p>Obsolete note in fn:function-lookup</p></div>
<div class="toot" id="closed-1642"><h2>Issue #1642 closed<span class="toot-id"> #closed-1642</span></h2><div class="pubdate">10 Dec at 17:12:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1642">https://github.com/qt4cg/qtspecs/pull/1642</a></div><p>1637 Add/Amend notes to fn:function-lookup</p></div>
<div class="toot" id="closed-1554"><h2>Issue #1554 closed<span class="toot-id"> #closed-1554</span></h2><div class="pubdate">10 Dec at 17:10:42 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1554">https://github.com/qt4cg/qtspecs/issues/1554</a></div><p>XQFO: Formal Specification</p></div>
<div class="toot" id="closed-1641"><h2>Issue #1641 closed<span class="toot-id"> #closed-1641</span></h2><div class="pubdate">10 Dec at 17:10:41 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1641">https://github.com/qt4cg/qtspecs/pull/1641</a></div><p>1554-change-formal-specification-heading</p></div>
<div class="toot" id="closed-1639"><h2>Issue #1639 closed<span class="toot-id"> #closed-1639</span></h2><div class="pubdate">10 Dec at 17:01:01 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1639">https://github.com/qt4cg/qtspecs/issues/1639</a></div><p>Rules for schema-aware elements-to-maps are incomplete</p></div>
<div class="toot" id="closed-1640"><h2>Issue #1640 closed<span class="toot-id"> #closed-1640</span></h2><div class="pubdate">10 Dec at 17:01:00 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1640">https://github.com/qt4cg/qtspecs/pull/1640</a></div><p>1639 Add missing rule for elements-to-maps</p></div>
<div class="toot" id="closed-1628"><h2>Issue #1628 closed<span class="toot-id"> #closed-1628</span></h2><div class="pubdate">10 Dec at 16:58:11 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1628">https://github.com/qt4cg/qtspecs/issues/1628</a></div><p>XQuery version number</p></div>
<div class="toot" id="closed-1629"><h2>Issue #1629 closed<span class="toot-id"> #closed-1629</span></h2><div class="pubdate">10 Dec at 16:58:10 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1629">https://github.com/qt4cg/qtspecs/pull/1629</a></div><p>1628 Clarify rules for XQuery version declaration</p></div>
<div class="toot" id="created-1651"><h2>Issue #1651 created<span class="toot-id"> #created-1651</span></h2><div class="pubdate">10 Dec at 15:10:17 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1651">https://github.com/qt4cg/qtspecs/issues/1651</a></div><details><summary>Ordered Maps: maps that retain insertion order</summary><div class="markup"><p>Currently, XDM maps are “unordered”: An implementation is allowed to organize entries in a way that optimizes lookup, not order. The entries do not have a predictable order unless they are explicitly sorted.</p>
<p>There are cases in which it is helpful if the “insertion order” is preserved – i.e., the order in which new map entries are added to a map. While the insertion order is not relevant if a map is exclusively used for lookups, it may be beneficial if the input includes deliberately sorted key/value pairs, such as (often) in JSON data, configurations or key/value sequences.</p>
<p>I created this issue because there was some confusion in #564, and on Slack, about this map flavor and “sorted maps”, which are discussed in issue #564: Sorted maps hold all map entries sorted by the key, using a comparator or (in its basic variant) <code>fn:data#1</code>.</p>
<p>PR #1609 attempts to solve both requirements at once.</p>
</div></details></div>
<div class="toot" id="created-1650"><h2>Issue #1650 created<span class="toot-id"> #created-1650</span></h2><div class="pubdate">10 Dec at 09:52:56 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1650">https://github.com/qt4cg/qtspecs/issues/1650</a></div><details><summary>fn:node-kind, fn:type-of: Editorial</summary><div class="markup"><ul>
<li><code>fn:node-kind</code> is still listed in the function index</li>
<li><code>fn:type-of</code>: <code>type-of($e//doc/child::node())</code> → <code>type-of($e/child::node())</code></li>
</ul>
</div></details></div>
<div class="toot" id="agenda-12-10"><h2>QT4 CG meeting 102 draft agenda<span class="toot-id"> #agenda-12-10</span></h2><div class="pubdate">09 Dec at 11:10:00 GMT</div><div class="link">Link: <a href="https://qt4cg.org/meeting/agenda/2024/12-10">https://qt4cg.org/meeting/agenda/2024/12-10</a></div><p>Draft agenda published.</p></div>
<div class="toot" id="closed-1635"><h2>Issue #1635 closed<span class="toot-id"> #closed-1635</span></h2><div class="pubdate">09 Dec at 10:33:49 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/pull/1635">https://github.com/qt4cg/qtspecs/pull/1635</a></div><p>Abbreviate suffixes on cross-spec links</p></div>
<div class="toot" id="created-1649"><h2>Issue #1649 created<span class="toot-id"> #created-1649</span></h2><div class="pubdate">06 Dec at 23:18:48 GMT</div><div class="link">Link: <a href="https://github.com/qt4cg/qtspecs/issues/1649">https://github.com/qt4cg/qtspecs/issues/1649</a></div><details><summary>Result type of fn:function-annotations()</summary><div class="markup"><p>The function signature and the prose rules say</p>
<p>The result is a sequence of maps, each being an instance of <code>record(key as xs:QName, value as xs:anyAtomicType*)</code></p>
<p>But one of the examples returns a singleton map in which the QName is the key and the value is the associated value. The test cases also follow that pattern.</p>
</div></details></div></div><p>See 3318
            more statuses in yearly archives.</p></article></main></body></html>